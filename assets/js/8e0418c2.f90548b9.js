"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7935],{9613:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>d});var r=n(9496);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),i=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=i(e.components);return r.createElement(p.Provider,{value:t},e.children)},s="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,m=u(e,["components","mdxType","originalType","parentName"]),s=i(n),c=a,d=s["".concat(p,".").concat(c)]||s[c]||k[c]||l;return n?r.createElement(d,o(o({ref:t},m),{},{components:n})):r.createElement(d,o({ref:t},m))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=c;var u={};for(var p in t)hasOwnProperty.call(t,p)&&(u[p]=t[p]);u.originalType=e,u[s]="string"==typeof e?e:a,o[1]=u;for(var i=2;i<l;i++)o[i]=n[i];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},521:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>k,frontMatter:()=>l,metadata:()=>u,toc:()=>i});var r=n(8028),a=(n(9496),n(9613));const l={},o=void 0,u={unversionedId:"Vue/3.1-vue-router",id:"Vue/3.1-vue-router",title:"3.1-vue-router",description:"Create by fall on:2021-04-11",source:"@site/my-docs/Vue/3.1-vue-router.md",sourceDirName:"Vue",slug:"/Vue/3.1-vue-router",permalink:"/my-website/docs/Vue/3.1-vue-router",draft:!1,editUrl:"https://github.com/my-docs/Vue/3.1-vue-router.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"2.3-\u63d2\u69fd\u7684\u4f7f\u7528",permalink:"/my-website/docs/Vue/2.3-\u63d2\u69fd\u7684\u4f7f\u7528"},next:{title:"3.2-Vue \u642d\u914d TS",permalink:"/my-website/docs/Vue/3.2-Vue \u642d\u914d TS"}},p={},i=[{value:"\u8def\u7531\u4e2d\u7684\u4e24\u5927\u5bf9\u8c61",id:"\u8def\u7531\u4e2d\u7684\u4e24\u5927\u5bf9\u8c61",level:2},{value:"\u8def\u7531",id:"\u8def\u7531",level:2},{value:"\u8def\u7531\u6267\u884c\u987a\u5e8f",id:"\u8def\u7531\u6267\u884c\u987a\u5e8f",level:3},{value:"\u8def\u7531\u5b88\u536b",id:"\u8def\u7531\u5b88\u536b",level:3},{value:"\u8def\u7531",id:"\u8def\u7531-1",level:2},{value:"Vue\u8def\u7531",id:"vue\u8def\u7531",level:2},{value:"\u8def\u7531\u7684\u4f7f\u7528",id:"\u8def\u7531\u7684\u4f7f\u7528",level:3},{value:"\u5d4c\u5957\u8def\u7531",id:"\u5d4c\u5957\u8def\u7531",level:3},{value:"\u52a8\u6001\u8def\u7531",id:"\u52a8\u6001\u8def\u7531",level:3},{value:"\u547d\u540d\u8def\u7531",id:"\u547d\u540d\u8def\u7531",level:3},{value:"\u5bfc\u822a\u65b9\u5f0f",id:"\u5bfc\u822a\u65b9\u5f0f",level:3},{value:"route\u548crouter",id:"route\u548crouter",level:2},{value:"route",id:"route",level:3},{value:"router",id:"router",level:3},{value:"\u8def\u7531\u5b88\u536b",id:"\u8def\u7531\u5b88\u536b-1",level:3},{value:"\u6587\u7ae0\u53c2\u8003",id:"\u6587\u7ae0\u53c2\u8003",level:2}],m={toc:i},s="wrapper";function k(e){let{components:t,...n}=e;return(0,a.kt)(s,(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Create by fall on:2021-04-11\nRecently revised in:2022-09-01")),(0,a.kt)("h2",{id:"\u8def\u7531\u4e2d\u7684\u4e24\u5927\u5bf9\u8c61"},"\u8def\u7531\u4e2d\u7684\u4e24\u5927\u5bf9\u8c61"),(0,a.kt)("p",null,"vue-router \u662f vue \u5b9e\u73b0\uff0c\u63a7\u5236\u8def\u7531\u7684\u5b98\u65b9\u63d2\u4ef6"),(0,a.kt)("p",null,"\u5176\u4e2d\u6709\u4e24\u5927\u5bf9\u8c61"),(0,a.kt)("p",null,"$router \u548c $route"),(0,a.kt)("p",null,"\u4e0b\u9762\u6765\u8be6\u7ec6\u8bf4\u8bf4\u4e24\u8005\u7684\u4e0d\u540c\uff1a"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"$router"),"\u8868\u793a\u7684\u662f\u5168\u5c40\u8def\u7531\u5bf9\u8c61"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"$router.push('login')\n$router.push({path:'home'})\n$router.push({name:'user',params:{id:12314}})\n$router.push({ path: 'register', query: { plan: '123' }})\n$router.go(-1) // \u56de\u9000\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"$route")," \u5f53\u524d\u8def\u7531\u5bf9\u8c61"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'$route.path\n\u5b57\u7b26\u4e32\uff0c\u5bf9\u5e94\u5f53\u524d\u8def\u7531\u7684\u8def\u5f84\uff0c\u603b\u662f\u89e3\u6790\u4e3a\u7edd\u5bf9\u8def\u5f84\uff0c\u5982 "/foo/bar"\u3002\n$route.params\n      \u4e00\u4e2a key/value \u5bf9\u8c61\uff0c\u5305\u542b\u4e86 \u52a8\u6001\u7247\u6bb5 \u548c \u5168\u5339\u914d\u7247\u6bb5\uff0c\n      \u5982\u679c\u6ca1\u6709\u8def\u7531\u53c2\u6570\uff0c\u5c31\u662f\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002\n$route.query\n      \u4e00\u4e2a key/value \u5bf9\u8c61\uff0c\u8868\u793a URL \u67e5\u8be2\u53c2\u6570\u3002\n      \u4f8b\u5982\uff0c\u5bf9\u4e8e\u8def\u5f84 /foo?user=1\uff0c\u5219\u6709 $route.query.user == 1\uff0c\n      \u5982\u679c\u6ca1\u6709\u67e5\u8be2\u53c2\u6570\uff0c\u5219\u662f\u4e2a\u7a7a\u5bf9\u8c61\u3002\n$route.hash\n      \u5f53\u524d\u8def\u7531\u7684 hash \u503c (\u4e0d\u5e26 #) \uff0c\u5982\u679c\u6ca1\u6709 hash \u503c\uff0c\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u951a\u70b9\n$route.fullPath\n      \u5b8c\u6210\u89e3\u6790\u540e\u7684 URL\uff0c\u5305\u542b\u67e5\u8be2\u53c2\u6570\u548c hash \u7684\u5b8c\u6574\u8def\u5f84\u3002\n$route.matched\n      \u6570\u7ec4\uff0c\u5305\u542b\u5f53\u524d\u5339\u914d\u7684\u8def\u5f84\u4e2d\u6240\u5305\u542b\u7684\u6240\u6709\u7247\u6bb5\u6240\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u5bf9\u8c61\u3002\n$route.name  \u5f53\u524d\u8def\u5f84\u540d\u5b57\n$route.meta  \u8def\u7531\u5143\u4fe1\u606f\n')),(0,a.kt)("h2",{id:"\u8def\u7531"},"\u8def\u7531"),(0,a.kt)("h3",{id:"\u8def\u7531\u6267\u884c\u987a\u5e8f"},"\u8def\u7531\u6267\u884c\u987a\u5e8f"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5bfc\u822a\u88ab\u89e6\u53d1\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5728\u5931\u6d3b\u7684\u7ec4\u4ef6\u91cc\u8c03\u7528 beforeRouteLeave \u5b88\u536b\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528\u5168\u5c40\u7684 beforeEach \u5b88\u536b\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5728\u91cd\u7528\u7684\u7ec4\u4ef6\u91cc\u8c03\u7528 beforeRouteUpdate \u5b88\u536b (2.2+)\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5728\u8def\u7531\u914d\u7f6e\u91cc\u8c03\u7528 beforeEnter\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u89e3\u6790\u5f02\u6b65\u8def\u7531\u7ec4\u4ef6\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5728\u88ab\u6fc0\u6d3b\u7684\u7ec4\u4ef6\u91cc\u8c03\u7528 beforeRouteEnter\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528\u5168\u5c40\u7684 beforeResolve \u5b88\u536b (2.5+)\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u5bfc\u822a\u88ab\u786e\u8ba4\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528\u5168\u5c40\u7684 afterEach \u94a9\u5b50\u3002",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u89e6\u53d1 DOM \u66f4\u65b0\u3002"))),(0,a.kt)("li",{parentName:"ul"},"\u8c03\u7528 beforeRouteEnter \u5b88\u536b\u4e2d\u4f20\u7ed9 next \u7684\u56de\u8c03\u51fd\u6570\uff0c\u521b\u5efa\u597d\u7684\u7ec4\u4ef6\u5b9e\u4f8b\u4f1a\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\u3002")),(0,a.kt)("h3",{id:"\u8def\u7531\u5b88\u536b"},"\u8def\u7531\u5b88\u536b"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u5168\u5c40\u5b88\u536b")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"router.beforeEach \u5168\u5c40\u524d\u7f6e\u5b88\u536b \u8fdb\u5165\u8def\u7531\u4e4b\u524d"),(0,a.kt)("li",{parentName:"ul"},"router.beforeResolve \u5168\u5c40\u89e3\u6790\u5b88\u536b(2.5.0+) \u5728beforeRouteEnter\u8c03\u7528\u4e4b\u540e\u8c03\u7528"),(0,a.kt)("li",{parentName:"ul"},"router.afterEach \u5168\u5c40\u540e\u7f6e\u94a9\u5b50 \u8fdb\u5165\u8def\u7531\u4e4b\u540e")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// main.js \u5165\u53e3\u6587\u4ef6\nimport router from './router'; // \u5f15\u5165\u8def\u7531\nrouter.beforeEach((to, from, next) => { \n  next();\n});\nrouter.beforeResolve((to, from, next) => {\n  next();\n});\nrouter.afterEach((to, from) => {\n  console.log('afterEach \u5168\u5c40\u540e\u7f6e\u94a9\u5b50');\n});\n")),(0,a.kt)("p",null,"\u53c2\u6570\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"to\uff1a\u8868\u660e\u524d\u5f80\u7684\u8def\u7531"),(0,a.kt)("li",{parentName:"ul"},"from\uff1a\u8868\u660e\u4ece\u54ea\u91cc\u6765"),(0,a.kt)("li",{parentName:"ul"},"next\uff1a\u8868\u793a\u8fdb\u884c\u63a5\u4e0b\u6765\u7684\u5185\u5bb9\uff0c\u5fc5\u987b\u8981\u8fdb\u884c\u8c03\u7528\uff0c\u8c03\u7528\u65b9\u5f0f\u5982\u4e0b",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"next()"),"\uff1a\u8fdb\u5165\u4e0b\u4e00\u4e2a\u8def\u7531"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"next(false)"),"\uff1a\u53d6\u6d88\u8fdb\u5165\u4e0b\u4e00\u4e2a\u8def\u7531"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"next('path')"),"\uff1a\u8fdb\u5165 path \u8def\u7531\uff0c\u6216\u8005\u548c ",(0,a.kt)("inlineCode",{parentName:"li"},"router.push")," \u76f8\u540c\u7684\u53c2\u6570")))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u72ec\u4eab\u5b88\u536b")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const routers = [\n  {\n    path:'/path',\n    component:()=>import('./Page.vue')\n    beforeEnter: (to, from, next) => { \n      // \u53c2\u6570\u7528\u6cd5\u4ec0\u4e48\u7684\u90fd\u4e00\u6837,\u8c03\u7528\u987a\u5e8f\u5728\u5168\u5c40\u524d\u7f6e\u5b88\u536b\u540e\u9762\uff0c\u6240\u4ee5\u4e0d\u4f1a\u88ab\u5168\u5c40\u5b88\u536b\u8986\u76d6\n      // ...\n    }\n  }  \n]\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"beforeRouteEnter \u8fdb\u5165\u8def\u7531\u524d"),(0,a.kt)("li",{parentName:"ul"},"beforeRouteUpdate (2.2) \u8def\u7531\u590d\u7528\u540c\u4e00\u4e2a\u7ec4\u4ef6\u65f6"),(0,a.kt)("li",{parentName:"ul"},"beforeRouteLeave \u79bb\u5f00\u5f53\u524d\u8def\u7531\u65f6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-JS"},"const route = {\n  beforeRouteEnter (to, from, next) {\n    // \u5728\u8def\u7531\u72ec\u4eab\u5b88\u536b\u540e\u8c03\u7528 \u4e0d\uff01\u80fd\uff01\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b `this`\uff0c\u7ec4\u4ef6\u5b9e\u4f8b\u8fd8\u6ca1\u88ab\u521b\u5efa\n  },\n  beforeRouteUpdate (to, from, next) {\n    // \u5728\u5f53\u524d\u8def\u7531\u6539\u53d8\uff0c\u4f46\u662f\u8be5\u7ec4\u4ef6\u88ab\u590d\u7528\u65f6\u8c03\u7528 \u53ef\u4ee5\u8bbf\u95ee\u7ec4\u4ef6\u5b9e\u4f8b `this`\n    // \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5e26\u6709\u52a8\u6001\u53c2\u6570\u7684\u8def\u5f84 /foo/:id\uff0c\u5728 /foo/1 \u548c /foo/2 \u4e4b\u95f4\u8df3\u8f6c\u7684\u65f6\u5019\uff0c\n    // \u7531\u4e8e\u4f1a\u6e32\u67d3\u540c\u6837\u7684 Foo \u7ec4\u4ef6\uff0c\u56e0\u6b64\u7ec4\u4ef6\u5b9e\u4f8b\u4f1a\u88ab\u590d\u7528\u3002\u800c\u8fd9\u4e2a\u94a9\u5b50\u5c31\u4f1a\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b\u88ab\u8c03\u7528\u3002\n  },\n  beforeRouteLeave (to, from, next) {\n    // \u5bfc\u822a\u79bb\u5f00\u8be5\u7ec4\u4ef6\u7684\u5bf9\u5e94\u8def\u7531\u65f6\u8c03\u7528\uff0c\u53ef\u4ee5\u8bbf\u95ee\u7ec4\u4ef6\u5b9e\u4f8b `this`\n  }\n}\n")),(0,a.kt)("p",null,"\u8def\u7531\u9519\u8bef\u6355\u83b7"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"router.onError(err=>{\n    console.log(err)\n})\n")),(0,a.kt)("h2",{id:"\u8def\u7531-1"},"\u8def\u7531"),(0,a.kt)("p",null,"\u8def\u7531\u7684\u672c\u8d28\u5c31\u662f URL \u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u5206\u4e3a",(0,a.kt)("strong",{parentName:"p"},"\u524d\u7aef\u8def\u7531"),"\u548c",(0,a.kt)("strong",{parentName:"p"},"\u540e\u7aef\u8def\u7531")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u540e\u7aef\u8def\u7531")),(0,a.kt)("p",null,"\u6839\u636e\u7528\u6237\u4e0d\u540c\u7684 URL \u8bf7\u6c42 \uff0c\u8fd4\u56de\u4e0d\u540c\u7684\u5185\u5bb9\uff0c\u670d\u52a1\u5668\u52a8\u6001\u751f\u6210\u7684\u9875\u9762\uff0cPHP\u8fd9\u7c7b\u7684\u52a8\u6001\u8d44\u6e90\u7f51\u9875\uff0c\u5927\u6982\u662f\u8fd9\u6837\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u7528\u6237\u7ecf\u5e38\u63d0\u4ea4\u8868\u5355\uff0c\u4f1a\u9020\u6210\u7f51\u9875\u7684\u9891\u7e41\u5237\u65b0\uff0c\u56e0\u6b64\u51fa\u73b0\u4e86ajax\u6280\u672f\uff0c\u5b9e\u73b0\u5c40\u90e8\u5237\u65b0\u3002ajax\u6280\u672f\u4e0d\u652f\u6301\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u540e\u9000\u3002\u5373\u6d4f\u89c8\u5668\u65e0\u6cd5\u4fdd\u5b58\u7528\u6237\u5728\u7f51\u9875\u7684\u6d4f\u89c8\u72b6\u6001\uff0c\u56e0\u6b64\u51fa\u73b0\u4e86SPA\u5355\u9875\u9762\u5f00\u53d1\u6280\u672f\u3002"),(0,a.kt)("p",null,"\u540e\u7aef\u8def\u7531\u7684\u672c\u8d28\uff1aURL \u5730\u5740\u548c\u670d\u52a1\u5668\u8d44\u6e90\u4e4b\u95f4\u7684\u5173\u7cfb"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"SPA"),"\uff1a\u5355\u9875\u9762\u5e94\u7528\u7a0b\u5e8f\uff0c\u6574\u4e2a\u7f51\u7ad9\u53ea\u6709\u4e00\u4e2a\u9875\u9762\uff0c\u5185\u5bb9\u901a\u8fc7ajax\u5c40\u90e8\u5237\u65b0\u5b9e\u73b0\uff0c\u540c\u65f6\u652f\u6301\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u540e\u9000\u529f\u80fd\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u524d\u7aef\u8def\u7531")),(0,a.kt)("p",null,"\u6839\u636e\u4e0d\u540c\u7684\u7528\u6237\u4e8b\u4ef6\uff0c\u663e\u793a\u4e0d\u540c\u7684\u5185\u5bb9\u3002"),(0,a.kt)("p",null,"\u6bcf\u5f53\u7528\u6237\u89e6\u53d1\u4e00\u4e2a\u4e8b\u4ef6\u540e\uff0c\u4f1a\u88ab\u8def\u7531\u76d1\u542c\u5230\uff0c\u8def\u7531\u4f1a\u628a\u8fd9\u6b21\u8bf7\u6c42\u5206\u53d1\u7ed9\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u7d27\u63a5\u7740\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4f1a\u6e32\u67d3\u5bf9\u5e94\u7684\u5185\u5bb9\uff0c\u5448\u73b0\u7ed9\u7528\u6237\u3002\uff08\u524d\u7aef\u8def\u7531\u8d1f\u8d23\u4e8b\u4ef6\u76d1\u542c\uff0c\u89e6\u53d1\u4e8b\u4ef6\u540e\uff0c\u901a\u8fc7\u4e8b\u4ef6\u51fd\u6570\u6e32\u67d3\u4e0d\u540c\u7684\u5185\u5bb9"),(0,a.kt)("h2",{id:"vue\u8def\u7531"},"Vue\u8def\u7531"),(0,a.kt)("p",null,"\u5b98\u7f51\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://next.router.vuejs.org/zh/introduction.html"},"https://next.router.vuejs.org/zh/introduction.html")),(0,a.kt)("p",null,"\u5305\u542b\u529f\u80fd\uff1a"),(0,a.kt)("p",null,"\u652f\u6301HTML5\u5386\u53f2\u6a21\u5f0f\u548chash\u6a21\u5f0f\uff0c\u652f\u6301\u5d4c\u5957\u8def\u7531\uff0c\u652f\u6301\u8def\u7531\u53c2\u6570\uff0c\u652f\u6301\u7f16\u7a0b\u5f0f\u8def\u7531\uff0c\u652f\u6301\u547d\u540d\u5f0f\u8def\u7531\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\uff1a\u8be5\u6587\u6863\u662f\u4f7f\u7528 Vue2 \u505a\u7684\u793a\u4f8b\uff0c\u6240\u4ee5\uff0c\u5982\u679c\u662f Vue3 \u7684\u9879\u76ee\uff0c\u5c3d\u91cf\u4e0d\u8981\u53c2\u8003\u8be5\u4ee3\u7801\u3002")),(0,a.kt)("h3",{id:"\u8def\u7531\u7684\u4f7f\u7528"},"\u8def\u7531\u7684\u4f7f\u7528"),(0,a.kt)("p",null,"\u8fd9\u91cc\u7684\u4f7f\u7528\u90fd\u662f ",(0,a.kt)("inlineCode",{parentName:"p"},".html")," \u754c\u9762\u4e2d\u8def\u7531\u7684\u4f7f\u7528\uff0c\u4e0d\u662f ",(0,a.kt)("inlineCode",{parentName:"p"},".vue")," \u6587\u4ef6\u4e2d\u8def\u7531\u7684\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"\x3c!-- \u5728\u5f15\u5165vue.js \u4e4b\u540e\u5f15\u5165 vue-router.js --\x3e\n<div class='app'>\n    <router-link to=\"/home\">Register</router-link>\n    <router-link to=\"/user\">User</router-link>\n    <router-view></router-view>\n  \x3c!-- \u4f5c\u4e3a\u8def\u7531\u5360\u4f4d\u7b26 --\x3e\n</div>\n<script>\n    const Home = {\n      template:`<h1>\u4e3b\u9875</h1>`\n    }\n    const User = {\n      template:`<h1>\u7528\u6237\u9875\u9762</h1>`\n    }\n    const router = new VueRouter({\n      routes:[\n        {path:'/home',component:Home},\n        {path:'/user',component:User}\n      ]\n    })\n    const app = new Vue({\n      el:\".app\",\n      router:router,// \u6302\u5728\u5b9e\u4f8b\u5bf9\u8c61\n      data:{}\n    })\n<\/script>\n")),(0,a.kt)("h3",{id:"\u5d4c\u5957\u8def\u7531"},"\u5d4c\u5957\u8def\u7531"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<div class='app'>\n    <router-link to=\"/home\">Register</router-link>\n    <router-link to=\"/user\">User</router-link>\n    <router-view></router-view>\n  \x3c!-- \u4f5c\u4e3a\u8def\u7531\u5360\u4f4d\u7b26 --\x3e\n</div>\n<script>\n    const goudan = {\n      template:`<h2>\u72d7\u86cb</h2>`\n    }\n    const mahua ={\n      template:`<h2>\u9ebb\u82b1</h2>`\n    }\n    const User = {\n      template:`\n      <div>\n        <h1>\u7528\u6237</h1>\n        <router-link to=\"/user/goudan\">\u674e\u72d7\u86cb</router-link>\n        <router-link to=\"/user/mahua\">\u674e\u9ebb\u82b1</router-link>\n        <router-view></router-view>\n      </div>\n      `,\n      component:{}\n    }\n    const router = new VueRouter({\n      routes:[\n        {path:'/',redirect:'/home'},\n        {path:'/home',component:Home},\n        {path:'/user',component:User,children:[{\n          path:'/user/mahua',component:mahua\n        },{\n          path:'/user/goudan',component:goudan\n        }]}\n      ]\n    })\n    const app = new Vue({\n      el:\".app\",\n      router:router,// \u6302\u5728\u5b9e\u4f8b\u5bf9\u8c61\n      data:{\n      },\n    })\n<\/script>\n")),(0,a.kt)("h3",{id:"\u52a8\u6001\u8def\u7531"},"\u52a8\u6001\u8def\u7531"),(0,a.kt)("p",null,"\u52a8\u6001\u8def\u7531\u662f\u4e3a\u4e86\u6ee1\u8db3\u591a\u4e2a\u76f8\u4f3c\u8def\u5f84\u7684\u8def\u7531\u7684\u9700\u8981"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<div class='app'>\n    <router-link to=\"/home\">Register</router-link>\n    <router-link to=\"/user/12\">User12</router-link>\n    <router-link to=\"/user/33\">User33</router-link>\n    <router-link to=\"/user/62\">User62</router-link>\n    <router-view></router-view>\n  </div>\n  <script>\n    const Home = {\n      template: `<h1>\u4e3b\u9875</h1>`\n    }\n    const theUser = {\n      template: `<h1>{{$route.params.name}}</h1>`\n    }\n    // theUser2 \u662f\u5229\u7528\u52a8\u6001\u8def\u7531\u5339\u914d\uff0cprops = true \u540e\u53ef\u4ee5\u76f4\u63a5\u5c06 theUser \u6362\u6210 theUser2,\n    const theUser2\n    const router = new VueRouter({\n      routes: [\n        { path: '/', redirect: '/home' },\n        { path: '/home', component: Home },\n        { path: '/user/:name', component: theUser ,props:true}\n      ]\n    })\n    const app = new Vue({\n      el: \".app\",\n      router: router,// \u6302\u5728\u5b9e\u4f8b\u5bf9\u8c61\n      data: {},\n    })\n  <\/script>\n")),(0,a.kt)("h3",{id:"\u547d\u540d\u8def\u7531"},"\u547d\u540d\u8def\u7531"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<router-view :to='{name:user,parames:{id:999}}'></router-view>\n\x3c!--\u9700\u8981\u4e3arouter\u5185\u7684\u51fd\u6570\u8bbe\u7f6e\u4e00\u4e2a\u503c --\x3e\n")),(0,a.kt)("h3",{id:"\u5bfc\u822a\u65b9\u5f0f"},"\u5bfc\u822a\u65b9\u5f0f"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u58f0\u660e\u5f0f\u5bfc\u822a")),(0,a.kt)("p",null,"\u5229\u7528",(0,a.kt)("inlineCode",{parentName:"p"},'<a href="#5566">\u94fe\u63a5</a>')," \uff0c\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"<router-link></router-link>")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7f16\u7a0b\u5f0f\u5bfc\u822a")),(0,a.kt)("p",null,"\u8c03\u7528JavaScript API\u6765\u5b9e\u73b0\u5bfc\u822a\u7684\u65b9\u5f0f\uff0c\u6210\u4e3a\u7f16\u7a0b\u5f0f\u5bfc\u822a"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"location.herf()")),(0,a.kt)("p",null,"vue\u4e2d\u7684\u5bfc\u822a\u57fa\u672c\u7528\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"this.$router.push('hash\u5730\u5740')\nthis.$router.go(n) // \u586b\u6570\u5b57\uff0c\u53ef\u4ee5\u524d\u8fdb\u6216\u8005\u540e\u9000n\u4f4d\nthis.$router.push({path:'/home'})\nthis.$router.push({name:'/home',parames})\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u5f3a\u5236\u91cd\u5b9a\u5411")),(0,a.kt)("p",null,"\u8bbf\u95eea\u5730\u5740\u7684\u65f6\u5019\uff0c\u5f3a\u5236\u7528\u6237\u8df3\u8f6c\u5230\u5730\u5740c\uff0c\u4ece\u800c\u5c55\u793a\u7279\u5b9a\u7684\u7ec4\u4ef6\u9875\u9762"),(0,a.kt)("h2",{id:"route\u548crouter"},"route\u548crouter"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u901a\u8fc7 ",(0,a.kt)("inlineCode",{parentName:"p"},"params")," \u4f20\u503c\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"name"),"\uff0c\u800c\u4e0d\u662f ",(0,a.kt)("inlineCode",{parentName:"p"},"path"))),(0,a.kt)("h3",{id:"route"},"route"),(0,a.kt)("p",null,"\u8868\u793a\u5f53\u524d\u8def\u7531\u4e2d\u89e3\u6790\u7684\u4fe1\u606f\uff0c\u8fd8\u6709\u5339\u914d\u5230\u7684 route records\uff08\u8def\u7531\u8bb0\u5f55\uff09"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\u8def\u7531\u4fe1\u606f"),(0,a.kt)("th",{parentName:"tr",align:null},"\u529f\u80fd"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.path")),(0,a.kt)("td",{parentName:"tr",align:null},'\u5b57\u7b26\u4e32\uff0c\u5bf9\u5e94\u5f53\u524d\u8def\u7531\u7684\u8def\u5f84\uff0c\u603b\u662f\u89e3\u6790\u4e3a\u7edd\u5bf9\u8def\u5f84\uff0c\u5982 "/foo/bar"\u3002')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.params")),(0,a.kt)("td",{parentName:"tr",align:null},"\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u4e86 \u52a8\u6001\u7247\u6bb5 \u548c \u5168\u5339\u914d\u7247\u6bb5\uff0c",(0,a.kt)("br",null),"\u5982\u679c\u6ca1\u6709\u8def\u7531\u53c2\u6570\uff0c\u5c31\u662f\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.query")),(0,a.kt)("td",{parentName:"tr",align:null},"\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8868\u793a URL\u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u3002",(0,a.kt)("br",null),"\u4f8b\u5982\uff0c\u5bf9\u4e8e\u8def\u5f84 /foo?user=1\uff0c\u5219\u6709 ",(0,a.kt)("inlineCode",{parentName:"td"},"$route.query.user == 1"),"\uff0c",(0,a.kt)("br",null),"\u5982\u679c\u6ca1\u6709\u67e5\u8be2\u53c2\u6570\uff0c\u5219\u662f\u4e2a\u7a7a\u5bf9\u8c61\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.hash")),(0,a.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u8def\u7531\u7684 hash \u503c (\u4e0d\u5e26 #) \uff0c\u5982\u679c\u6ca1\u6709 hash \u503c\uff0c\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.fullPath")),(0,a.kt)("td",{parentName:"tr",align:null},"\u5b8c\u6210\u89e3\u6790\u540e\u7684 URL\uff0c\u5305\u542b\u67e5\u8be2\u53c2\u6570\u548c hash \u7684\u5b8c\u6574\u8def\u5f84\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.matched")),(0,a.kt)("td",{parentName:"tr",align:null},"\u6570\u7ec4\uff0c\u5305\u542b\u5f53\u524d\u5339\u914d\u7684\u8def\u5f84\u4e2d\u6240\u5305\u542b\u7684\u6240\u6709\u7247\u6bb5\u6240\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u5bf9\u8c61\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.name")),(0,a.kt)("td",{parentName:"tr",align:null},"\u8def\u5f84\u7684\u540d\u79f0")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"$route.meta")),(0,a.kt)("td",{parentName:"tr",align:null},"\u8def\u7531\u5143\u4fe1\u606f")))),(0,a.kt)("h3",{id:"router"},"router"),(0,a.kt)("p",null,"\u5168\u5c40\u7684\u8def\u7531\u5b9e\u4f8b\uff0c\u662frouter\u6784\u9020\u65b9\u6cd5\u7684\u5b9e\u4f8b\u3002"),(0,a.kt)("p",null,"\u5185\u90e8\u7684\u5b9e\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const router = new Router({\n  routes: [\n    {\n      path: \"/\",\n      name: \"\u9996\u9875\",\n      redirect: '/home'\n    },\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login\n    },\n    { path: '*', component: NotFoundComponent }\n  ],\n  linkActiveClass: \"active-router\",\n  linkExactActiveClass: \"exact-router\"\n})\n")),(0,a.kt)("p",null,"\u8def\u7531\u7684\u5b9e\u4f8b\u65b9\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"// push\u65b9\u6cd5\u5176\u5b9e\u548c<router-link :to=\"...\">\u662f\u7b49\u540c\u7684\u3002\n// \u5b57\u7b26\u4e32\n      this.$router.push('home')\n// \u5bf9\u8c61\n      this.$router.push({ path: 'home' })\n// \u547d\u540d\u7684\u8def\u7531\n      this.$router.push({ name: 'user', params: { userId: 123 }})\n// \u5e26\u67e5\u8be2\u53c2\u6570\uff0c\u53d8\u6210 /register?plan=123\n      this.$router.push({ path: 'register', query: { plan: '123' }})\n")),(0,a.kt)("h3",{id:"\u8def\u7531\u5b88\u536b-1"},"\u8def\u7531\u5b88\u536b"),(0,a.kt)("p",null,"\u8def\u7531\u5b88\u536b\u4f5c\u7528\u5728router\u4e0a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u5168\u5c40\u524d\u7f6e\u5b88\u536b\nrouter.beforeEach(to,from,next){\n  console.log('to\u8868\u793a\u8981\u524d\u5f80\u7684\u754c\u9762');\n  console.log(to);\n  console.log('from \u8868\u793a\u4ece\u54ea\u4e2a\u9875\u9762\u8fc7\u6765');\n  console.log(from);\n  console.log('------------next----------');\n  console.log(next);\n  next(false)\n  // next(false) \u4e2d\u65ad\u5f53\u524d\u7684\u5bfc\u822a\u3002\n}\n")),(0,a.kt)("h2",{id:"\u6587\u7ae0\u53c2\u8003"},"\u6587\u7ae0\u53c2\u8003"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\u4f5c\u8005"),(0,a.kt)("th",{parentName:"tr",align:null},"\u8fde\u63a5"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Ishmael\u4e36Yoko"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://www.jianshu.com/p/fa0b5d919615"},"https://www.jianshu.com/p/fa0b5d919615"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"OBKoro1"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://juejin.cn/post/6844903641866829838"},"https://juejin.cn/post/6844903641866829838"))))))}k.isMDXComponent=!0}}]);