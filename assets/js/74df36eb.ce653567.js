"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[34],{9613:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var l=n(9496);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=l.createContext({}),p=function(e){var t=l.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):u(u({},t),e)),n},s=function(e){var t=p(e.components);return l.createElement(i.Provider,{value:t},e.children)},k="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),k=p(n),d=a,m=k["".concat(i,".").concat(d)]||k[d]||c[d]||r;return n?l.createElement(m,u(u({ref:t},s),{},{components:n})):l.createElement(m,u({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,u=new Array(r);u[0]=d;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[k]="string"==typeof e?e:a,u[1]=o;for(var p=2;p<r;p++)u[p]=n[p];return l.createElement.apply(null,u)}return l.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4894:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>u,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var l=n(8028),a=(n(9496),n(9613));const r={},u=void 0,o={unversionedId:"\u9762\u8bd5-\u81ea\u68c0/Vue\u9762\u8bd5\u9898",id:"\u9762\u8bd5-\u81ea\u68c0/Vue\u9762\u8bd5\u9898",title:"Vue\u9762\u8bd5\u9898",description:"Vue\u4e09\u8981\u7d20",source:"@site/my-docs/\u9762\u8bd5-\u81ea\u68c0/Vue\u9762\u8bd5\u9898.md",sourceDirName:"\u9762\u8bd5-\u81ea\u68c0",slug:"/\u9762\u8bd5-\u81ea\u68c0/Vue\u9762\u8bd5\u9898",permalink:"/my-website/docs/\u9762\u8bd5-\u81ea\u68c0/Vue\u9762\u8bd5\u9898",draft:!1,editUrl:"https://github.com/my-docs/\u9762\u8bd5-\u81ea\u68c0/Vue\u9762\u8bd5\u9898.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"3-\u7b97\u6cd5\u9898",permalink:"/my-website/docs/\u9762\u8bd5-\u81ea\u68c0/3-\u7b97\u6cd5\u9898"}},i={},p=[{value:"Vue\u4e09\u8981\u7d20",id:"vue\u4e09\u8981\u7d20",level:3},{value:"\u7b80\u5355",id:"\u7b80\u5355",level:3},{value:"vue \u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f\u6709\u54ea\u4e9b\u65b9\u6cd5",id:"vue-\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f\u6709\u54ea\u4e9b\u65b9\u6cd5",level:4},{value:"15 Vue \u54cd\u5e94\u5f0f\u539f\u7406",id:"15-vue-\u54cd\u5e94\u5f0f\u539f\u7406",level:4},{value:"16 Vue nextTick \u539f\u7406",id:"16-vue-nexttick-\u539f\u7406",level:4},{value:"17 Vue diff \u539f\u7406",id:"17-vue-diff-\u539f\u7406",level:4},{value:"1 MVC \u548c MVVM \u533a\u522b",id:"1-mvc-\u548c-mvvm-\u533a\u522b",level:4},{value:"MVC",id:"mvc",level:5},{value:"MVVM",id:"mvvm",level:5},{value:"2 \u4e3a\u4ec0\u4e48 data \u662f\u4e00\u4e2a\u51fd\u6570",id:"2-\u4e3a\u4ec0\u4e48-data-\u662f\u4e00\u4e2a\u51fd\u6570",level:4},{value:"3 Vue \u7ec4\u4ef6\u901a\u8baf\u6709\u54ea\u51e0\u79cd\u65b9\u5f0f",id:"3-vue-\u7ec4\u4ef6\u901a\u8baf\u6709\u54ea\u51e0\u79cd\u65b9\u5f0f",level:4},{value:"4 Vue \u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6709\u54ea\u4e9b \u4e00\u822c\u5728\u54ea\u4e00\u6b65\u53d1\u8bf7\u6c42",id:"4-vue-\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6709\u54ea\u4e9b-\u4e00\u822c\u5728\u54ea\u4e00\u6b65\u53d1\u8bf7\u6c42",level:4},{value:"5 v-if \u548c v-show \u7684\u533a\u522b",id:"5-v-if-\u548c-v-show-\u7684\u533a\u522b",level:4},{value:"6 \u8bf4\u8bf4 vue \u5185\u7f6e\u6307\u4ee4",id:"6-\u8bf4\u8bf4-vue-\u5185\u7f6e\u6307\u4ee4",level:4},{value:"7 \u600e\u6837\u7406\u89e3 Vue \u7684\u5355\u5411\u6570\u636e\u6d41",id:"7-\u600e\u6837\u7406\u89e3-vue-\u7684\u5355\u5411\u6570\u636e\u6d41",level:4},{value:"8 computed \u548c watch \u7684\u533a\u522b\u548c\u8fd0\u7528\u7684\u573a\u666f",id:"8-computed-\u548c-watch-\u7684\u533a\u522b\u548c\u8fd0\u7528\u7684\u573a\u666f",level:4},{value:"9 v-if \u4e0e v-for \u4e3a\u4ec0\u4e48\u4e0d\u5efa\u8bae\u4e00\u8d77\u4f7f\u7528",id:"9-v-if-\u4e0e-v-for-\u4e3a\u4ec0\u4e48\u4e0d\u5efa\u8bae\u4e00\u8d77\u4f7f\u7528",level:4},{value:"\u4e2d\u7b49",id:"\u4e2d\u7b49",level:3},{value:"10 Vue2.0 \u54cd\u5e94\u5f0f\u6570\u636e\u7684\u539f\u7406",id:"10-vue20-\u54cd\u5e94\u5f0f\u6570\u636e\u7684\u539f\u7406",level:4},{value:"11 Vue \u5982\u4f55\u68c0\u6d4b\u6570\u7ec4\u53d8\u5316",id:"11-vue-\u5982\u4f55\u68c0\u6d4b\u6570\u7ec4\u53d8\u5316",level:4},{value:"12 vue3.0 \u7528\u8fc7\u5417 \u4e86\u89e3\u591a\u5c11",id:"12-vue30-\u7528\u8fc7\u5417-\u4e86\u89e3\u591a\u5c11",level:4},{value:"13 Vue3.0 \u548c 2.0 \u7684\u54cd\u5e94\u5f0f\u539f\u7406\u533a\u522b",id:"13-vue30-\u548c-20-\u7684\u54cd\u5e94\u5f0f\u539f\u7406\u533a\u522b",level:4},{value:"14 Vue \u7684\u7236\u5b50\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u6267\u884c\u987a\u5e8f",id:"14-vue-\u7684\u7236\u5b50\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u6267\u884c\u987a\u5e8f",level:4},{value:"15 \u865a\u62df DOM \u662f\u4ec0\u4e48 \u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9",id:"15-\u865a\u62df-dom-\u662f\u4ec0\u4e48-\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9",level:4},{value:"16 v-model \u539f\u7406",id:"16-v-model-\u539f\u7406",level:4},{value:"17 v-for \u4e3a\u4ec0\u4e48\u8981\u52a0 key",id:"17-v-for-\u4e3a\u4ec0\u4e48\u8981\u52a0-key",level:4},{value:"18 Vue \u4e8b\u4ef6\u7ed1\u5b9a\u539f\u7406",id:"18-vue-\u4e8b\u4ef6\u7ed1\u5b9a\u539f\u7406",level:4},{value:"19 vue-router \u8def\u7531\u94a9\u5b50\u51fd\u6570\u662f\u4ec0\u4e48 \u6267\u884c\u987a\u5e8f\u662f\u4ec0\u4e48",id:"19-vue-router-\u8def\u7531\u94a9\u5b50\u51fd\u6570\u662f\u4ec0\u4e48-\u6267\u884c\u987a\u5e8f\u662f\u4ec0\u4e48",level:4},{value:"20 vue-router \u52a8\u6001\u8def\u7531\u662f\u4ec0\u4e48 \u6709\u4ec0\u4e48\u95ee\u9898",id:"20-vue-router-\u52a8\u6001\u8def\u7531\u662f\u4ec0\u4e48-\u6709\u4ec0\u4e48\u95ee\u9898",level:4},{value:"21 \u8c08\u4e00\u4e0b\u5bf9 vuex \u7684\u4e2a\u4eba\u7406\u89e3",id:"21-\u8c08\u4e00\u4e0b\u5bf9-vuex-\u7684\u4e2a\u4eba\u7406\u89e3",level:4},{value:"22 Vuex \u9875\u9762\u5237\u65b0\u6570\u636e\u4e22\u5931\u600e\u4e48\u89e3\u51b3",id:"22-vuex-\u9875\u9762\u5237\u65b0\u6570\u636e\u4e22\u5931\u600e\u4e48\u89e3\u51b3",level:4},{value:"23 Vuex \u4e3a\u4ec0\u4e48\u8981\u5206\u6a21\u5757\u5e76\u4e14\u52a0\u547d\u540d\u7a7a\u95f4",id:"23-vuex-\u4e3a\u4ec0\u4e48\u8981\u5206\u6a21\u5757\u5e76\u4e14\u52a0\u547d\u540d\u7a7a\u95f4",level:4},{value:"24 \u4f7f\u7528\u8fc7 Vue SSR \u5417\uff1f\u8bf4\u8bf4 SSR",id:"24-\u4f7f\u7528\u8fc7-vue-ssr-\u5417\u8bf4\u8bf4-ssr",level:4},{value:"25 vue \u4e2d\u4f7f\u7528\u4e86\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f",id:"25-vue-\u4e2d\u4f7f\u7528\u4e86\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f",level:4},{value:"26 \u4f60\u90fd\u505a\u8fc7\u54ea\u4e9b Vue \u7684\u6027\u80fd\u4f18\u5316",id:"26-\u4f60\u90fd\u505a\u8fc7\u54ea\u4e9b-vue-\u7684\u6027\u80fd\u4f18\u5316",level:4},{value:"\u56f0\u96be",id:"\u56f0\u96be",level:3},{value:"27 Vue.mixin \u7684\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",id:"27-vuemixin-\u7684\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",level:4},{value:"28 nextTick \u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",id:"28-nexttick-\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",level:4},{value:"29 keep-alive \u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",id:"29-keep-alive-\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",level:4},{value:"30 Vue.set \u65b9\u6cd5\u539f\u7406",id:"30-vueset-\u65b9\u6cd5\u539f\u7406",level:4},{value:"31 Vue.extend \u4f5c\u7528\u548c\u539f\u7406",id:"31-vueextend-\u4f5c\u7528\u548c\u539f\u7406",level:4},{value:"32 \u5199\u8fc7\u81ea\u5b9a\u4e49\u6307\u4ee4\u5417 \u539f\u7406\u662f\u4ec0\u4e48",id:"32-\u5199\u8fc7\u81ea\u5b9a\u4e49\u6307\u4ee4\u5417-\u539f\u7406\u662f\u4ec0\u4e48",level:4},{value:"33 Vue \u4fee\u9970\u7b26\u6709\u54ea\u4e9b",id:"33-vue-\u4fee\u9970\u7b26\u6709\u54ea\u4e9b",level:4},{value:"34 Vue \u6a21\u677f\u7f16\u8bd1\u539f\u7406",id:"34-vue-\u6a21\u677f\u7f16\u8bd1\u539f\u7406",level:4},{value:"35 \u751f\u547d\u5468\u671f\u94a9\u5b50\u662f\u5982\u4f55\u5b9e\u73b0\u7684",id:"35-\u751f\u547d\u5468\u671f\u94a9\u5b50\u662f\u5982\u4f55\u5b9e\u73b0\u7684",level:4},{value:"36 \u51fd\u6570\u5f0f\u7ec4\u4ef6\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",id:"36-\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406",level:4},{value:"37 \u80fd\u8bf4\u4e0b vue-router \u4e2d\u5e38\u7528\u7684\u8def\u7531\u6a21\u5f0f\u5b9e\u73b0\u539f\u7406\u5417",id:"37-\u80fd\u8bf4\u4e0b-vue-router-\u4e2d\u5e38\u7528\u7684\u8def\u7531\u6a21\u5f0f\u5b9e\u73b0\u539f\u7406\u5417",level:4},{value:"\u624b\u5199 Vue.extend \u5b9e\u73b0",id:"\u624b\u5199-vueextend-\u5b9e\u73b0",level:4},{value:"vue-router \u4e2d\u8def\u7531\u65b9\u6cd5 pushState \u548c replaceState \u80fd\u5426\u89e6\u53d1 popSate \u4e8b\u4ef6",id:"vue-router-\u4e2d\u8def\u7531\u65b9\u6cd5-pushstate-\u548c-replacestate-\u80fd\u5426\u89e6\u53d1-popsate-\u4e8b\u4ef6",level:4},{value:"\u53c2\u8003\u6587\u7ae0",id:"\u53c2\u8003\u6587\u7ae0",level:2}],s={toc:p},k="wrapper";function c(e){let{components:t,...n}=e;return(0,a.kt)(k,(0,l.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"vue\u4e09\u8981\u7d20"},"Vue\u4e09\u8981\u7d20"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u54cd\u5e94\u5f0f\uff1a\u5982\u4f55\u76d1\u542c\u5230\u6570\u636e\u53d8\u5316"),(0,a.kt)("li",{parentName:"ul"},"\u6a21\u677f\u5f15\u64ce\uff1a\u5982\u4f55\u89e3\u6790\u6a21\u677f"),(0,a.kt)("li",{parentName:"ul"},"\u6e32\u67d3\u539f\u7406\uff1a\u5982\u4f55\u5c06\u76d1\u542c\u5230\u7684\u6570\u636e\u53d8\u5316\u548c\u89e3\u6790\u540e\u7684HTML\u6e32\u67d3")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u5f0f"),"\uff1avue2 \u4f7f\u7528\u7684\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"Object.defineProperty")," \uff0cvue3\u4f7f\u7528\u7684\u662f Proxy"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6a21\u677f\u5f15\u64ce"),"\uff1a\u4f7f\u7528\u6b63\u5219\u8fdb\u884c\u89e3\u6790\uff0c\u89e3\u6790\u6210 JS \u4ee3\u7801\uff0c\u7136\u540e\u4f7f\u7528"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6e32\u67d3\u539f\u7406"),"\uff1a"),(0,a.kt)("h3",{id:"\u7b80\u5355"},"\u7b80\u5355"),(0,a.kt)("h4",{id:"vue-\u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f\u6709\u54ea\u4e9b\u65b9\u6cd5"},"vue \u7ec4\u4ef6\u901a\u8baf\u65b9\u5f0f\u6709\u54ea\u4e9b\u65b9\u6cd5"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"props \u548c$emit \u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e\u662f\u901a\u8fc7 prop \u4f20\u9012\u7684\uff0c\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e\u7ed9\u7236\u7ec4\u4ef6\u662f\u901a\u8fc7$emit \u89e6\u53d1\u4e8b\u4ef6\u6765\u505a\u5230\u7684"),(0,a.kt)("li",{parentName:"ul"},"$parent,$children \u83b7\u53d6\u5f53\u524d\u7ec4\u4ef6\u7684\u7236\u7ec4\u4ef6\u548c\u5f53\u524d\u7ec4\u4ef6\u7684\u5b50\u7ec4\u4ef6"),(0,a.kt)("li",{parentName:"ul"},"$attrs \u548c$listeners A->B->C\u3002Vue 2.4 \u5f00\u59cb\u63d0\u4f9b\u4e86$attrs \u548c$listeners \u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898"),(0,a.kt)("li",{parentName:"ul"},"\u7236\u7ec4\u4ef6\u4e2d\u901a\u8fc7 provide \u6765\u63d0\u4f9b\u53d8\u91cf\uff0c\u7136\u540e\u5728\u5b50\u7ec4\u4ef6\u4e2d\u901a\u8fc7 inject \u6765\u6ce8\u5165\u53d8\u91cf\u3002(\u5b98\u65b9\u4e0d\u63a8\u8350\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\u4f7f\u7528\uff0c\u4f46\u662f\u5199\u7ec4\u4ef6\u5e93\u65f6\u5f88\u5e38\u7528)"),(0,a.kt)("li",{parentName:"ul"},"$refs \u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b"),(0,a.kt)("li",{parentName:"ul"},"envetBus \u5144\u5f1f\u7ec4\u4ef6\u6570\u636e\u4f20\u9012 \u8fd9\u79cd\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u603b\u7ebf\u7684\u65b9\u5f0f"),(0,a.kt)("li",{parentName:"ul"},"vuex \u72b6\u6001\u7ba1\u7406")),(0,a.kt)("h4",{id:"15-vue-\u54cd\u5e94\u5f0f\u539f\u7406"},"15 Vue \u54cd\u5e94\u5f0f\u539f\u7406"),(0,a.kt)("p",null,"\u6574\u4f53\u601d\u8def\u662f\u6570\u636e\u52ab\u6301+\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("p",null,"\u5bf9\u8c61\u5185\u90e8\u901a\u8fc7 defineReactive \u65b9\u6cd5\uff0c\u4f7f\u7528 Object.defineProperty \u5c06\u5c5e\u6027\u8fdb\u884c\u52ab\u6301\uff08\u53ea\u4f1a\u52ab\u6301\u5df2\u7ecf\u5b58\u5728\u7684\u5c5e\u6027\uff09\uff0c\u6570\u7ec4\u5219\u662f\u901a\u8fc7\u91cd\u5199\u6570\u7ec4\u65b9\u6cd5\u6765\u5b9e\u73b0\u3002\u5f53\u9875\u9762\u4f7f\u7528\u5bf9\u5e94\u5c5e\u6027\u65f6\uff0c\u6bcf\u4e2a\u5c5e\u6027\u90fd\u62e5\u6709\u81ea\u5df1\u7684 dep \u5c5e\u6027\uff0c\u5b58\u653e\u4ed6\u6240\u4f9d\u8d56\u7684 watcher\uff08\u4f9d\u8d56\u6536\u96c6\uff09\uff0c\u5f53\u5c5e\u6027\u53d8\u5316\u540e\u4f1a\u901a\u77e5\u81ea\u5df1\u5bf9\u5e94\u7684 watcher \u53bb\u66f4\u65b0(\u6d3e\u53d1\u66f4\u65b0)\u3002"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'class Observer {\n  // \u89c2\u6d4b\u503c\n  constructor(value) {\n    this.walk(value);\n  }\n  walk(data) {\n    // \u5bf9\u8c61\u4e0a\u7684\u6240\u6709\u5c5e\u6027\u4f9d\u6b21\u8fdb\u884c\u89c2\u6d4b\n    let keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n      let key = keys[i];\n      let value = data[key];\n      defineReactive(data, key, value);\n    }\n  }\n}\n// Object.defineProperty\u6570\u636e\u52ab\u6301\u6838\u5fc3 \u517c\u5bb9\u6027\u5728ie9\u4ee5\u53ca\u4ee5\u4e0a\nfunction defineReactive(data, key, value) {\n  observe(value); // \u9012\u5f52\u5173\u952e\n  // --\u5982\u679cvalue\u8fd8\u662f\u4e00\u4e2a\u5bf9\u8c61\u4f1a\u7ee7\u7eed\u8d70\u4e00\u904dodefineReactive \u5c42\u5c42\u904d\u5386\u4e00\u76f4\u5230value\u4e0d\u662f\u5bf9\u8c61\u624d\u505c\u6b62\n  //   \u601d\u8003\uff1f\u5982\u679cVue\u6570\u636e\u5d4c\u5957\u5c42\u7ea7\u8fc7\u6df1 >>\u6027\u80fd\u4f1a\u53d7\u5f71\u54cd\n  Object.defineProperty(data, key, {\n    get() {\n      console.log("\u83b7\u53d6\u503c");\n\n      //\u9700\u8981\u505a\u4f9d\u8d56\u6536\u96c6\u8fc7\u7a0b \u8fd9\u91cc\u4ee3\u7801\u6ca1\u5199\u51fa\u6765\n      return value;\n    },\n    set(newValue) {\n      if (newValue === value) return;\n      console.log("\u8bbe\u7f6e\u503c");\n      //\u9700\u8981\u505a\u6d3e\u53d1\u66f4\u65b0\u8fc7\u7a0b \u8fd9\u91cc\u4ee3\u7801\u6ca1\u5199\u51fa\u6765\n      value = newValue;\n    },\n  });\n}\nexport function observe(value) {\n  // \u5982\u679c\u4f20\u8fc7\u6765\u7684\u662f\u5bf9\u8c61\u6216\u8005\u6570\u7ec4 \u8fdb\u884c\u5c5e\u6027\u52ab\u6301\n  if (\n    Object.prototype.toString.call(value) === "[object Object]" ||\n    Array.isArray(value)\n  ) {\n    return new Observer(value);\n  }\n}\n\u590d\u5236\u4ee3\u7801\n')),(0,a.kt)("p",null,"\u54cd\u5e94\u5f0f\u6570\u636e\u539f\u7406\u8be6\u89e3 ",(0,a.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6935344605424517128"},"\u4f20\u9001\u95e8")),(0,a.kt)("h4",{id:"16-vue-nexttick-\u539f\u7406"},"16 Vue nextTick \u539f\u7406"),(0,a.kt)("p",null,"nextTick \u4e2d\u7684\u56de\u8c03\u662f\u5728\u4e0b\u6b21 DOM \u66f4\u65b0\u5faa\u73af\u7ed3\u675f\u4e4b\u540e\u6267\u884c\u7684\u5ef6\u8fdf\u56de\u8c03\u3002\u5728\u4fee\u6539\u6570\u636e\u4e4b\u540e\u7acb\u5373\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u83b7\u53d6\u66f4\u65b0\u540e\u7684 DOM\u3002\u4e3b\u8981\u601d\u8def\u5c31\u662f\u91c7\u7528\u5fae\u4efb\u52a1\u4f18\u5148\u7684\u65b9\u5f0f\u8c03\u7528\u5f02\u6b65\u65b9\u6cd5\u53bb\u6267\u884c nextTick \u5305\u88c5\u7684\u65b9\u6cd5"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'let callbacks = [];\nlet pending = false;\nfunction flushCallbacks() {\n  pending = false; //\u628a\u6807\u5fd7\u8fd8\u539f\u4e3afalse\n  // \u4f9d\u6b21\u6267\u884c\u56de\u8c03\n  for (let i = 0; i < callbacks.length; i++) {\n    callbacks[i]();\n  }\n}\nlet timerFunc; //\u5b9a\u4e49\u5f02\u6b65\u65b9\u6cd5  \u91c7\u7528\u4f18\u96c5\u964d\u7ea7\nif (typeof Promise !== "undefined") {\n  // \u5982\u679c\u652f\u6301promise\n  const p = Promise.resolve();\n  timerFunc = () => {\n    p.then(flushCallbacks);\n  };\n} else if (typeof MutationObserver !== "undefined") {\n  // MutationObserver \u4e3b\u8981\u662f\u76d1\u542cdom\u53d8\u5316 \u4e5f\u662f\u4e00\u4e2a\u5f02\u6b65\u65b9\u6cd5\n  let counter = 1;\n  const observer = new MutationObserver(flushCallbacks);\n  const textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true,\n  });\n  timerFunc = () => {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n} else if (typeof setImmediate !== "undefined") {\n  // \u5982\u679c\u524d\u9762\u90fd\u4e0d\u652f\u6301 \u5224\u65adsetImmediate\n  timerFunc = () => {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // \u6700\u540e\u964d\u7ea7\u91c7\u7528setTimeout\n  timerFunc = () => {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nexport function nextTick(cb) {\n  // \u9664\u4e86\u6e32\u67d3watcher  \u8fd8\u6709\u7528\u6237\u81ea\u5df1\u624b\u52a8\u8c03\u7528\u7684nextTick \u4e00\u8d77\u88ab\u6536\u96c6\u5230\u6570\u7ec4\n  callbacks.push(cb);\n  if (!pending) {\n    // \u5982\u679c\u591a\u6b21\u8c03\u7528nextTick  \u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u5f02\u6b65 \u7b49\u5f02\u6b65\u961f\u5217\u6e05\u7a7a\u4e4b\u540e\u518d\u628a\u6807\u5fd7\u53d8\u4e3afalse\n    pending = true;\n    timerFunc();\n  }\n}\n\u590d\u5236\u4ee3\u7801\n')),(0,a.kt)("p",null,"nextTick \u539f\u7406\u8be6\u89e3 ",(0,a.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6939704519668432910#heading-4"},"\u4f20\u9001\u95e8")),(0,a.kt)("h4",{id:"17-vue-diff-\u539f\u7406"},"17 Vue diff \u539f\u7406"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e3c68d1b0884d9ca0f8ffc5ee64a28e~tplv-k3u1fbpfcp-watermark.image",alt:"diff\u7b97\u6cd5.png"})),(0,a.kt)("p",null,"\u5efa\u8bae\u76f4\u63a5\u770b diff \u7b97\u6cd5\u8be6\u89e3 ",(0,a.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6953433215218483236"},"\u4f20\u9001\u95e8")),(0,a.kt)("h4",{id:"1-mvc-\u548c-mvvm-\u533a\u522b"},"1 MVC \u548c MVVM \u533a\u522b"),(0,a.kt)("h5",{id:"mvc"},"MVC"),(0,a.kt)("p",null,"MVC \u5168\u540d\u662f Model View Controller\uff0c\u662f\u6a21\u578b(model)\uff0d\u89c6\u56fe(view)\uff0d\u63a7\u5236\u5668(controller)\u7684\u7f29\u5199\uff0c\u4e00\u79cd\u8f6f\u4ef6\u8bbe\u8ba1\u5178\u8303"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Model\uff08\u6a21\u578b\uff09\uff1a\u662f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7528\u4e8e\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u903b\u8f91\u7684\u90e8\u5206\u3002\u901a\u5e38\u6a21\u578b\u5bf9\u8c61\u8d1f\u8d23\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u53d6\u6570\u636e"),(0,a.kt)("li",{parentName:"ul"},"View\uff08\u89c6\u56fe\uff09\uff1a\u662f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5904\u7406\u6570\u636e\u663e\u793a\u7684\u90e8\u5206\u3002\u901a\u5e38\u89c6\u56fe\u662f\u4f9d\u636e\u6a21\u578b\u6570\u636e\u521b\u5efa\u7684"),(0,a.kt)("li",{parentName:"ul"},"Controller\uff08\u63a7\u5236\u5668\uff09\uff1a\u662f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5904\u7406\u7528\u6237\u4ea4\u4e92\u7684\u90e8\u5206\u3002\u901a\u5e38\u63a7\u5236\u5668\u8d1f\u8d23\u4ece\u89c6\u56fe\u8bfb\u53d6\u6570\u636e\uff0c\u63a7\u5236\u7528\u6237\u8f93\u5165\uff0c\u5e76\u5411\u6a21\u578b\u53d1\u9001\u6570\u636e")),(0,a.kt)("img",{src:"https://filescdn.proginn.com/8d0163ed29f2ed3be88558271f2db16e/8c2f2df56c0b575539f3f5ba37ebecb9.webp",alt:"img",style:{zoom:"80%"}}),(0,a.kt)("p",null,"MVC \u7684\u601d\u60f3\uff1a\u4e00\u53e5\u8bdd\u63cf\u8ff0\u5c31\u662f Controller \u8d1f\u8d23\u5c06 Model \u7684\u6570\u636e\u7528 View \u663e\u793a\u51fa\u6765\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u5728 Controller \u91cc\u9762\u628a Model \u7684\u6570\u636e\u8d4b\u503c\u7ed9 View\u3002"),(0,a.kt)("h5",{id:"mvvm"},"MVVM"),(0,a.kt)("p",null,"MVVM \u65b0\u589e\u4e86 VM \u7c7b"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"ViewModel \u5c42\uff1a\u505a\u4e86\u4e24\u4ef6\u4e8b\u8fbe\u5230\u4e86\u6570\u636e\u7684\u53cc\u5411\u7ed1\u5b9a \u4e00\u662f\u5c06\u3010\u6a21\u578b\u3011\u8f6c\u5316\u6210\u3010\u89c6\u56fe\u3011\uff0c\u5373\u5c06\u540e\u7aef\u4f20\u9012\u7684\u6570\u636e\u8f6c\u5316\u6210\u6240\u770b\u5230\u7684\u9875\u9762\u3002\u5b9e\u73b0\u7684\u65b9\u5f0f\u662f\uff1a\u6570\u636e\u7ed1\u5b9a\u3002\u4e8c\u662f\u5c06\u3010\u89c6\u56fe\u3011\u8f6c\u5316\u6210\u3010\u6a21\u578b\u3011\uff0c\u5373\u5c06\u6240\u770b\u5230\u7684\u9875\u9762\u8f6c\u5316\u6210\u540e\u7aef\u7684\u6570\u636e\u3002\u5b9e\u73b0\u7684\u65b9\u5f0f\u662f\uff1aDOM \u4e8b\u4ef6\u76d1\u542c\u3002")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://filescdn.proginn.com/08efd2b341653b42fd006390554e400c/a5b5d809e339c21cd63b46d616b1fdd4.webp",alt:"img"}),"mvvm.png"),(0,a.kt)("p",null,"MVVM \u4e0e MVC \u6700\u5927\u7684\u533a\u522b\u5c31\u662f\uff1a\u5b83\u5b9e\u73b0\u4e86 View \u548c Model \u7684\u81ea\u52a8\u540c\u6b65\uff0c\u4e5f\u5c31\u662f\u5f53 Model \u7684\u5c5e\u6027\u6539\u53d8\u65f6\uff0c\u6211\u4eec\u4e0d\u7528\u518d\u81ea\u5df1\u624b\u52a8\u64cd\u4f5c Dom \u5143\u7d20\uff0c\u6765\u6539\u53d8 View \u7684\u663e\u793a\uff0c\u800c\u662f\u6539\u53d8\u5c5e\u6027\u540e\u8be5\u5c5e\u6027\u5bf9\u5e94 View \u5c42\u663e\u793a\u4f1a\u81ea\u52a8\u6539\u53d8\uff08\u5bf9\u5e94Vue\u6570\u636e\u9a71\u52a8\u7684\u601d\u60f3\uff09"),(0,a.kt)("p",null,"\u6574\u4f53\u770b\u6765\uff0cMVVM \u6bd4 MVC \u7cbe\u7b80\u5f88\u591a\uff0c\u4e0d\u4ec5\u7b80\u5316\u4e86\u4e1a\u52a1\u4e0e\u754c\u9762\u7684\u4f9d\u8d56\uff0c\u8fd8\u89e3\u51b3\u4e86\u6570\u636e\u9891\u7e41\u66f4\u65b0\u7684\u95ee\u9898\uff0c\u4e0d\u7528\u518d\u7528\u9009\u62e9\u5668\u64cd\u4f5c DOM \u5143\u7d20\u3002\u56e0\u4e3a\u5728 MVVM \u4e2d\uff0cView \u4e0d\u77e5\u9053 Model \u7684\u5b58\u5728\uff0cModel \u548c ViewModel \u4e5f\u89c2\u5bdf\u4e0d\u5230 View\uff0c\u8fd9\u79cd\u4f4e\u8026\u5408\u6a21\u5f0f\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u91cd\u7528\u6027"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1aVue \u5e76\u6ca1\u6709\u5b8c\u5168\u9075\u5faa MVVM \u7684\u601d\u60f3 \u8fd9\u4e00\u70b9\u5b98\u7f51\u81ea\u5df1\u4e5f\u6709\u8bf4\u660e")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://filescdn.proginn.com/e38685d2cf50d13bb7f2175316172e7f/3fcec4773be5f9e71ce7a559c711e896.webp",alt:"img"}),"vue-mvvm.png"),(0,a.kt)("p",null,"\u90a3\u4e48\u95ee\u9898\u6765\u4e86 \u4e3a\u4ec0\u4e48\u5b98\u65b9\u8981\u8bf4 Vue \u6ca1\u6709\u5b8c\u5168\u9075\u5faa MVVM \u601d\u60f3\u5462\uff1f"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4e25\u683c\u7684 MVVM \u8981\u6c42 View \u4e0d\u80fd\u548c Model \u76f4\u63a5\u901a\u4fe1\uff0c\u800c Vue \u63d0\u4f9b\u4e86$refs \u8fd9\u4e2a\u5c5e\u6027\uff0c\u8ba9 Model \u53ef\u4ee5\u76f4\u63a5\u64cd\u4f5c View\uff0c\u8fdd\u53cd\u4e86\u8fd9\u4e00\u89c4\u5b9a\uff0c\u6240\u4ee5\u8bf4 Vue \u6ca1\u6709\u5b8c\u5168\u9075\u5faa MVVM\u3002")),(0,a.kt)("h4",{id:"2-\u4e3a\u4ec0\u4e48-data-\u662f\u4e00\u4e2a\u51fd\u6570"},"2 \u4e3a\u4ec0\u4e48 data \u662f\u4e00\u4e2a\u51fd\u6570"),(0,a.kt)("p",null,"\u7ec4\u4ef6\u4e2d\u7684 data \u5199\u6210\u4e00\u4e2a\u51fd\u6570\uff0c\u6570\u636e\u4ee5\u51fd\u6570\u8fd4\u56de\u503c\u5f62\u5f0f\u5b9a\u4e49\uff0c\u8fd9\u6837\u6bcf\u590d\u7528\u4e00\u6b21\u7ec4\u4ef6\uff0c\u5c31\u4f1a\u8fd4\u56de\u4e00\u4efd\u65b0\u7684  data\uff0c\u7c7b\u4f3c\u4e8e\u7ed9\u6bcf\u4e2a\u7ec4\u4ef6\u5b9e\u4f8b\u521b\u5efa\u4e00\u4e2a\u79c1\u6709\u7684\u6570\u636e\u7a7a\u95f4\uff0c\u8ba9\u5404\u4e2a\u7ec4\u4ef6\u5b9e\u4f8b\u7ef4\u62a4\u5404\u81ea\u7684\u6570\u636e\u3002\u800c\u5355\u7eaf\u7684\u5199\u6210\u5bf9\u8c61\u5f62\u5f0f\uff0c\u5c31\u4f7f\u5f97\u6240\u6709\u7ec4\u4ef6\u5b9e\u4f8b\u5171\u7528\u4e86\u4e00\u4efd  data\uff0c\u5c31\u4f1a\u9020\u6210\u4e00\u4e2a\u53d8\u4e86\u5168\u90fd\u4f1a\u53d8\u7684\u7ed3\u679c"),(0,a.kt)("h4",{id:"3-vue-\u7ec4\u4ef6\u901a\u8baf\u6709\u54ea\u51e0\u79cd\u65b9\u5f0f"},"3 Vue \u7ec4\u4ef6\u901a\u8baf\u6709\u54ea\u51e0\u79cd\u65b9\u5f0f"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"props \u548c")),(0,a.kt)("p",null,"\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e\u662f\u901a\u8fc7"),(0,a.kt)("p",null,"\u4f20\u9012\u7684\uff0c\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e\u7ed9\u7236\u7ec4\u4ef6\u662f\u901a\u8fc7emit \u89e6\u53d1\u4e8b\u4ef6\u6765\u505a\u5230\u7684"),(0,a.kt)("p",null,"children \u83b7\u53d6\u5f53\u524d\u7ec4\u4ef6\u7684\u7236\u7ec4\u4ef6\u548c\u5f53\u524d\u7ec4\u4ef6\u7684\u5b50\u7ec4\u4ef6"),(0,a.kt)("p",null,"\u548clisteners A->B->C\u3002Vue 2.4 \u5f00\u59cb\u63d0\u4f9b\u4e86"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u548clisteners \u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898"),(0,a.kt)("li",{parentName:"ol"},"\u7236\u7ec4\u4ef6\u4e2d\u901a\u8fc7 provide \u6765\u63d0\u4f9b\u53d8\u91cf\uff0c\u7136\u540e\u5728\u5b50\u7ec4\u4ef6\u4e2d\u901a\u8fc7 inject \u6765\u6ce8\u5165\u53d8\u91cf\u3002(\u5b98\u65b9\u4e0d\u63a8\u8350\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\u4f7f\u7528\uff0c\u4f46\u662f\u5199\u7ec4\u4ef6\u5e93\u65f6\u5f88\u5e38\u7528)"),(0,a.kt)("li",{parentName:"ol"},"$refs \u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b"),(0,a.kt)("li",{parentName:"ol"},"envetBus \u5144\u5f1f\u7ec4\u4ef6\u6570\u636e\u4f20\u9012 \u8fd9\u79cd\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u603b\u7ebf\u7684\u65b9\u5f0f"),(0,a.kt)("li",{parentName:"ol"},"vuex \u72b6\u6001\u7ba1\u7406")),(0,a.kt)("h4",{id:"4-vue-\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6709\u54ea\u4e9b-\u4e00\u822c\u5728\u54ea\u4e00\u6b65\u53d1\u8bf7\u6c42"},"4 Vue \u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6709\u54ea\u4e9b \u4e00\u822c\u5728\u54ea\u4e00\u6b65\u53d1\u8bf7\u6c42"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"beforeCreate")," \u5728\u5b9e\u4f8b\u521d\u59cb\u5316\u4e4b\u540e\uff0c\u6570\u636e\u89c2\u6d4b(data observer) \u548c event/watcher \u4e8b\u4ef6\u914d\u7f6e\u4e4b\u524d\u88ab\u8c03\u7528\u3002\u5728\u5f53\u524d\u9636\u6bb5 data\u3001methods\u3001computed \u4ee5\u53ca watch \u4e0a\u7684\u6570\u636e\u548c\u65b9\u6cd5\u90fd\u4e0d\u80fd\u88ab\u8bbf\u95ee"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"created")," \u5b9e\u4f8b\u5df2\u7ecf\u521b\u5efa\u5b8c\u6210\u4e4b\u540e\u88ab\u8c03\u7528\u3002\u5728\u8fd9\u4e00\u6b65\uff0c\u5b9e\u4f8b\u5df2\u5b8c\u6210\u4ee5\u4e0b\u7684\u914d\u7f6e\uff1a\u6570\u636e\u89c2\u6d4b(data observer)\uff0c\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u8fd0\u7b97\uff0c watch/event \u4e8b\u4ef6\u56de\u8c03\u3002\u8fd9\u91cc\u6ca1\u6709"),(0,a.kt)("p",null,"\u5982\u679c\u975e\u8981\u60f3\u4e0e\u8fdb\u884c\u4ea4\u4e92\uff0c\u53ef\u4ee5\u901a\u8fc7"),(0,a.kt)("p",null,"nextTick \u6765\u8bbf\u95ee Dom"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"beforeMount")," \u5728\u6302\u8f7d\u5f00\u59cb\u4e4b\u524d\u88ab\u8c03\u7528\uff1a\u76f8\u5173\u7684 render \u51fd\u6570\u9996\u6b21\u88ab\u8c03\u7528\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"mounted")," \u5728\u6302\u8f7d\u5b8c\u6210\u540e\u53d1\u751f\uff0c\u5728\u5f53\u524d\u9636\u6bb5\uff0c\u771f\u5b9e\u7684 Dom \u6302\u8f7d\u5b8c\u6bd5\uff0c\u6570\u636e\u5b8c\u6210\u53cc\u5411\u7ed1\u5b9a\uff0c\u53ef\u4ee5\u8bbf\u95ee\u5230 Dom \u8282\u70b9"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"beforeUpdate")," \u6570\u636e\u66f4\u65b0\u65f6\u8c03\u7528\uff0c\u53d1\u751f\u5728\u865a\u62df DOM \u91cd\u65b0\u6e32\u67d3\u548c\u6253\u8865\u4e01\uff08patch\uff09\u4e4b\u524d\u3002\u53ef\u4ee5\u5728\u8fd9\u4e2a\u94a9\u5b50\u4e2d\u8fdb\u4e00\u6b65\u5730\u66f4\u6539\u72b6\u6001\uff0c\u8fd9\u4e0d\u4f1a\u89e6\u53d1\u9644\u52a0\u7684\u91cd\u6e32\u67d3\u8fc7\u7a0b"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"updated")," \u53d1\u751f\u5728\u66f4\u65b0\u5b8c\u6210\u4e4b\u540e\uff0c\u5f53\u524d\u9636\u6bb5\u7ec4\u4ef6 Dom \u5df2\u5b8c\u6210\u66f4\u65b0\u3002\u8981\u6ce8\u610f\u7684\u662f\u907f\u514d\u5728\u6b64\u671f\u95f4\u66f4\u6539\u6570\u636e\uff0c\u56e0\u4e3a\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u65e0\u9650\u5faa\u73af\u7684\u66f4\u65b0\uff0c\u8be5\u94a9\u5b50\u5728\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u671f\u95f4\u4e0d\u88ab\u8c03\u7528\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"beforeDestroy")," \u5b9e\u4f8b\u9500\u6bc1\u4e4b\u524d\u8c03\u7528\u3002\u5728\u8fd9\u4e00\u6b65\uff0c\u5b9e\u4f8b\u4ecd\u7136\u5b8c\u5168\u53ef\u7528\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u8fd9\u65f6\u8fdb\u884c\u5584\u540e\u6536\u5c3e\u5de5\u4f5c\uff0c\u6bd4\u5982\u6e05\u9664\u8ba1\u65f6\u5668\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"destroyed")," Vue \u5b9e\u4f8b\u9500\u6bc1\u540e\u8c03\u7528\u3002\u8c03\u7528\u540e\uff0cVue \u5b9e\u4f8b\u6307\u793a\u7684\u6240\u6709\u4e1c\u897f\u90fd\u4f1a\u89e3\u7ed1\u5b9a\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c\u5668\u4f1a\u88ab\u79fb\u9664\uff0c\u6240\u6709\u7684\u5b50\u5b9e\u4f8b\u4e5f\u4f1a\u88ab\u9500\u6bc1\u3002\u8be5\u94a9\u5b50\u5728\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u671f\u95f4\u4e0d\u88ab\u8c03\u7528\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"activated")," keep-alive \u4e13\u5c5e\uff0c\u7ec4\u4ef6\u88ab\u6fc0\u6d3b\u65f6\u8c03\u7528"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"deactivated")," keep-alive \u4e13\u5c5e\uff0c\u7ec4\u4ef6\u88ab\u9500\u6bc1\u65f6\u8c03\u7528"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5f02\u6b65\u8bf7\u6c42\u5728\u54ea\u4e00\u6b65\u53d1\u8d77\uff1f")),(0,a.kt)("p",null,"\u53ef\u4ee5\u5728\u94a9\u5b50\u51fd\u6570 created\u3001beforeMount\u3001mounted \u4e2d\u8fdb\u884c\u5f02\u6b65\u8bf7\u6c42\uff0c\u56e0\u4e3a\u5728\u8fd9\u4e09\u4e2a\u94a9\u5b50\u51fd\u6570\u4e2d\uff0cdata \u5df2\u7ecf\u521b\u5efa\uff0c\u53ef\u4ee5\u5c06\u670d\u52a1\u7aef\u7aef\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u8d4b\u503c\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u5f02\u6b65\u8bf7\u6c42\u4e0d\u9700\u8981\u4f9d\u8d56 Dom \u63a8\u8350\u5728 created \u94a9\u5b50\u51fd\u6570\u4e2d\u8c03\u7528\u5f02\u6b65\u8bf7\u6c42\uff0c\u56e0\u4e3a\u5728 created \u94a9\u5b50\u51fd\u6570\u4e2d\u8c03\u7528\u5f02\u6b65\u8bf7\u6c42\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u80fd\u66f4\u5feb\u83b7\u53d6\u5230\u670d\u52a1\u7aef\u6570\u636e\uff0c\u51cf\u5c11\u9875\u9762 loading \u65f6\u95f4\uff1b"),(0,a.kt)("li",{parentName:"ul"},"ssr \u4e0d\u652f\u6301 beforeMount \u3001mounted \u94a9\u5b50\u51fd\u6570\uff0c\u6240\u4ee5\u653e\u5728 created \u4e2d\u6709\u52a9\u4e8e\u4e00\u81f4\u6027\uff1b")),(0,a.kt)("h4",{id:"5-v-if-\u548c-v-show-\u7684\u533a\u522b"},"5 v-if \u548c v-show \u7684\u533a\u522b"),(0,a.kt)("p",null,"v-if \u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4f1a\u88ab\u8f6c\u5316\u6210\u4e09\u5143\u8868\u8fbe\u5f0f,\u6761\u4ef6\u4e0d\u6ee1\u8db3\u65f6\u4e0d\u6e32\u67d3\u6b64\u8282\u70b9\u3002"),(0,a.kt)("p",null,"v-show \u4f1a\u88ab\u7f16\u8bd1\u6210\u6307\u4ee4\uff0c\u6761\u4ef6\u4e0d\u6ee1\u8db3\u65f6\u63a7\u5236\u6837\u5f0f\u5c06\u5bf9\u5e94\u8282\u70b9\u9690\u85cf \uff08display:none\uff09"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u573a\u666f")),(0,a.kt)("p",null,"v-if \u9002\u7528\u4e8e\u5728\u8fd0\u884c\u65f6\u5f88\u5c11\u6539\u53d8\u6761\u4ef6\uff0c\u4e0d\u9700\u8981\u9891\u7e41\u5207\u6362\u6761\u4ef6\u7684\u573a\u666f"),(0,a.kt)("p",null,"v-show \u9002\u7528\u4e8e\u9700\u8981\u975e\u5e38\u9891\u7e41\u5207\u6362\u6761\u4ef6\u7684\u573a\u666f"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6269\u5c55\u8865\u5145\uff1adisplay:none\u3001visibility:hidden \u548c opacity:0 \u4e4b\u95f4\u7684\u533a\u522b\uff1f")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://filescdn.proginn.com/552defe3f9cad1eda94b01a3b6d83330/f371dacd6c752603c5db775a2d76baa8.webp",alt:"img"}),"display.png"),(0,a.kt)("h4",{id:"6-\u8bf4\u8bf4-vue-\u5185\u7f6e\u6307\u4ee4"},"6 \u8bf4\u8bf4 vue \u5185\u7f6e\u6307\u4ee4"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://filescdn.proginn.com/a7fd3e772879ef745a58214fe05500c2/ad4e9043c24fce5cd66bd5ad4b0e52d3.webp",alt:"img"}),"\u5185\u7f6e\u6307\u4ee4.png"),(0,a.kt)("h4",{id:"7-\u600e\u6837\u7406\u89e3-vue-\u7684\u5355\u5411\u6570\u636e\u6d41"},"7 \u600e\u6837\u7406\u89e3 Vue \u7684\u5355\u5411\u6570\u636e\u6d41"),(0,a.kt)("p",null,"\u6570\u636e\u603b\u662f\u4ece\u7236\u7ec4\u4ef6\u4f20\u5230\u5b50\u7ec4\u4ef6\uff0c\u5b50\u7ec4\u4ef6\u6ca1\u6709\u6743\u5229\u4fee\u6539\u7236\u7ec4\u4ef6\u4f20\u8fc7\u6765\u7684\u6570\u636e\uff0c\u53ea\u80fd\u8bf7\u6c42\u7236\u7ec4\u4ef6\u5bf9\u539f\u59cb\u6570\u636e\u8fdb\u884c\u4fee\u6539\u3002\u8fd9\u6837\u4f1a\u9632\u6b62\u4ece\u5b50\u7ec4\u4ef6\u610f\u5916\u6539\u53d8\u7236\u7ea7\u7ec4\u4ef6\u7684\u72b6\u6001\uff0c\u4ece\u800c\u5bfc\u81f4\u4f60\u7684\u5e94\u7528\u7684\u6570\u636e\u6d41\u5411\u96be\u4ee5\u7406\u89e3\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u5728\u5b50\u7ec4\u4ef6\u76f4\u63a5\u7528 v-model \u7ed1\u5b9a\u7236\u7ec4\u4ef6\u4f20\u8fc7\u6765\u7684 prop \u8fd9\u6837\u662f\u4e0d\u89c4\u8303\u7684\u5199\u6cd5 \u5f00\u53d1\u73af\u5883\u4f1a\u62a5\u8b66\u544a")),(0,a.kt)("p",null,"\u5982\u679c\u5b9e\u5728\u8981\u6539\u53d8\u7236\u7ec4\u4ef6\u7684 prop \u503c \u53ef\u4ee5\u518d data \u91cc\u9762\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf \u5e76\u7528 prop \u7684\u503c\u521d\u59cb\u5316\u5b83 \u4e4b\u540e\u7528$emit \u901a\u77e5\u7236\u7ec4\u4ef6\u53bb\u4fee\u6539"),(0,a.kt)("h4",{id:"8-computed-\u548c-watch-\u7684\u533a\u522b\u548c\u8fd0\u7528\u7684\u573a\u666f"},"8 computed \u548c watch \u7684\u533a\u522b\u548c\u8fd0\u7528\u7684\u573a\u666f"),(0,a.kt)("p",null,"computed \u662f\u8ba1\u7b97\u5c5e\u6027\uff0c\u4f9d\u8d56\u5176\u4ed6\u5c5e\u6027\u8ba1\u7b97\u503c\uff0c\u5e76\u4e14 computed \u7684\u503c\u6709\u7f13\u5b58\uff0c\u53ea\u6709\u5f53\u8ba1\u7b97\u503c\u53d8\u5316\u624d\u4f1a\u8fd4\u56de\u5185\u5bb9\uff0c\u5b83\u53ef\u4ee5\u8bbe\u7f6e getter \u548c setter\u3002"),(0,a.kt)("p",null,"watch \u76d1\u542c\u5230\u503c\u7684\u53d8\u5316\u5c31\u4f1a\u6267\u884c\u56de\u8c03\uff0c\u5728\u56de\u8c03\u4e2d\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u903b\u8f91\u64cd\u4f5c\u3002"),(0,a.kt)("p",null,"\u8ba1\u7b97\u5c5e\u6027\u4e00\u822c\u7528\u5728\u6a21\u677f\u6e32\u67d3\u4e2d\uff0c\u67d0\u4e2a\u503c\u662f\u4f9d\u8d56\u4e86\u5176\u5b83\u7684\u54cd\u5e94\u5f0f\u5bf9\u8c61\u751a\u81f3\u662f\u8ba1\u7b97\u5c5e\u6027\u8ba1\u7b97\u800c\u6765\uff1b\u800c\u4fa6\u542c\u5c5e\u6027\u9002\u7528\u4e8e\u89c2\u6d4b\u67d0\u4e2a\u503c\u7684\u53d8\u5316\u53bb\u5b8c\u6210\u4e00\u6bb5\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91"),(0,a.kt)("p",null,"\u8ba1\u7b97\u5c5e\u6027\u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("p",null,"\u4fa6\u542c\u5c5e\u6027\u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"9-v-if-\u4e0e-v-for-\u4e3a\u4ec0\u4e48\u4e0d\u5efa\u8bae\u4e00\u8d77\u4f7f\u7528"},"9 v-if \u4e0e v-for \u4e3a\u4ec0\u4e48\u4e0d\u5efa\u8bae\u4e00\u8d77\u4f7f\u7528"),(0,a.kt)("p",null,"v-for \u548c v-if \u4e0d\u8981\u5728\u540c\u4e00\u4e2a\u6807\u7b7e\u4e2d\u4f7f\u7528,\u56e0\u4e3a\u89e3\u6790\u65f6\u5148\u89e3\u6790 v-for \u518d\u89e3\u6790 v-if\u3002\u5982\u679c\u9047\u5230\u9700\u8981\u540c\u65f6\u4f7f\u7528\u65f6\u53ef\u4ee5\u8003\u8651\u5199\u6210\u8ba1\u7b97\u5c5e\u6027\u7684\u65b9\u5f0f\u3002"),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"\u4e2d\u7b49"},"\u4e2d\u7b49"),(0,a.kt)("h4",{id:"10-vue20-\u54cd\u5e94\u5f0f\u6570\u636e\u7684\u539f\u7406"},"10 Vue2.0 \u54cd\u5e94\u5f0f\u6570\u636e\u7684\u539f\u7406"),(0,a.kt)("p",null,"\u6574\u4f53\u601d\u8def\u662f\u6570\u636e\u52ab\u6301+\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,a.kt)("p",null,"\u5bf9\u8c61\u5185\u90e8\u901a\u8fc7 defineReactive \u65b9\u6cd5\uff0c\u4f7f\u7528 Object.defineProperty  \u5c06\u5c5e\u6027\u8fdb\u884c\u52ab\u6301\uff08\u53ea\u4f1a\u52ab\u6301\u5df2\u7ecf\u5b58\u5728\u7684\u5c5e\u6027\uff09\uff0c\u6570\u7ec4\u5219\u662f\u901a\u8fc7\u91cd\u5199\u6570\u7ec4\u65b9\u6cd5\u6765\u5b9e\u73b0\u3002\u5f53\u9875\u9762\u4f7f\u7528\u5bf9\u5e94\u5c5e\u6027\u65f6\uff0c\u6bcf\u4e2a\u5c5e\u6027\u90fd\u62e5\u6709\u81ea\u5df1\u7684 dep  \u5c5e\u6027\uff0c\u5b58\u653e\u4ed6\u6240\u4f9d\u8d56\u7684 watcher\uff08\u4f9d\u8d56\u6536\u96c6\uff09\uff0c\u5f53\u5c5e\u6027\u53d8\u5316\u540e\u4f1a\u901a\u77e5\u81ea\u5df1\u5bf9\u5e94\u7684 watcher \u53bb\u66f4\u65b0(\u6d3e\u53d1\u66f4\u65b0)\u3002"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'class Observer {\n  // \u89c2\u6d4b\u503c\n  constructor(value) {\n    this.walk(value);\n  }\n  walk(data) {\n    // \u5bf9\u8c61\u4e0a\u7684\u6240\u6709\u5c5e\u6027\u4f9d\u6b21\u8fdb\u884c\u89c2\u6d4b\n    let keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n      let key = keys[i];\n      let value = data[key];\n      defineReactive(data, key, value);\n    }\n  }\n}\n// Object.defineProperty\u6570\u636e\u52ab\u6301\u6838\u5fc3 \u517c\u5bb9\u6027\u5728ie9\u4ee5\u53ca\u4ee5\u4e0a\nfunction defineReactive(data, key, value) {\n  observe(value); // \u9012\u5f52\u5173\u952e\n  // --\u5982\u679cvalue\u8fd8\u662f\u4e00\u4e2a\u5bf9\u8c61\u4f1a\u7ee7\u7eed\u8d70\u4e00\u904dodefineReactive \u5c42\u5c42\u904d\u5386\u4e00\u76f4\u5230value\u4e0d\u662f\u5bf9\u8c61\u624d\u505c\u6b62\n  //   \u601d\u8003\uff1f\u5982\u679cVue\u6570\u636e\u5d4c\u5957\u5c42\u7ea7\u8fc7\u6df1 >>\u6027\u80fd\u4f1a\u53d7\u5f71\u54cd\n  Object.defineProperty(data, key, {\n    get() {\n      console.log("\u83b7\u53d6\u503c");\n\n      //\u9700\u8981\u505a\u4f9d\u8d56\u6536\u96c6\u8fc7\u7a0b \u8fd9\u91cc\u4ee3\u7801\u6ca1\u5199\u51fa\u6765\n      return value;\n    },\n    set(newValue) {\n      if (newValue === value) return;\n      console.log("\u8bbe\u7f6e\u503c");\n      //\u9700\u8981\u505a\u6d3e\u53d1\u66f4\u65b0\u8fc7\u7a0b \u8fd9\u91cc\u4ee3\u7801\u6ca1\u5199\u51fa\u6765\n      value = newValue;\n    },\n  });\n}\nexport function observe(value) {\n  // \u5982\u679c\u4f20\u8fc7\u6765\u7684\u662f\u5bf9\u8c61\u6216\u8005\u6570\u7ec4 \u8fdb\u884c\u5c5e\u6027\u52ab\u6301\n  if (\n    Object.prototype.toString.call(value) === "[object Object]" ||\n    Array.isArray(value)\n  ) {\n    return new Observer(value);\n  }\n} \n')),(0,a.kt)("p",null,"\u54cd\u5e94\u5f0f\u6570\u636e\u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"11-vue-\u5982\u4f55\u68c0\u6d4b\u6570\u7ec4\u53d8\u5316"},"11 Vue \u5982\u4f55\u68c0\u6d4b\u6570\u7ec4\u53d8\u5316"),(0,a.kt)("p",null,"\u6570\u7ec4\u8003\u8651\u6027\u80fd\u539f\u56e0\u6ca1\u6709\u7528 defineProperty \u5bf9\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u8fdb\u884c\u62e6\u622a\uff0c\u800c\u662f\u9009\u62e9\u5bf9 7 \u79cd\u6570\u7ec4\uff08push,shift,pop,splice,unshift,sort,reverse\uff09\u65b9\u6cd5\u8fdb\u884c\u91cd\u5199(AOP \u5207\u7247\u601d\u60f3)"),(0,a.kt)("p",null,"\u6240\u4ee5\u5728 Vue \u4e2d\u4fee\u6539\u6570\u7ec4\u7684\u7d22\u5f15\u548c\u957f\u5ea6\u662f\u65e0\u6cd5\u76d1\u63a7\u5230\u7684\u3002\u9700\u8981\u901a\u8fc7\u4ee5\u4e0a 7 \u79cd\u53d8\u5f02\u65b9\u6cd5\u4fee\u6539\u6570\u7ec4\u624d\u4f1a\u89e6\u53d1\u6570\u7ec4\u5bf9\u5e94\u7684 watcher \u8fdb\u884c\u66f4\u65b0"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'// src/obserber/array.js\n// \u5148\u4fdd\u7559\u6570\u7ec4\u539f\u578b\nconst arrayProto = Array.prototype;\n// \u7136\u540e\u5c06arrayMethods\u7ee7\u627f\u81ea\u6570\u7ec4\u539f\u578b\n// \u8fd9\u91cc\u662f\u9762\u5411\u5207\u7247\u7f16\u7a0b\u601d\u60f3\uff08AOP\uff09--\u4e0d\u7834\u574f\u5c01\u88c5\u7684\u524d\u63d0\u4e0b\uff0c\u52a8\u6001\u7684\u6269\u5c55\u529f\u80fd\nexport const arrayMethods = Object.create(arrayProto);\nlet methodsToPatch = [\n  "push",\n  "pop",\n  "shift",\n  "unshift",\n  "splice",\n  "reverse",\n  "sort",\n];\nmethodsToPatch.forEach((method) => {\n  arrayMethods[method] = function (...args) {\n    //   \u8fd9\u91cc\u4fdd\u7559\u539f\u578b\u65b9\u6cd5\u7684\u6267\u884c\u7ed3\u679c\n    const result = arrayProto[method].apply(this, args);\n    // \u8fd9\u53e5\u8bdd\u662f\u5173\u952e\n    // this\u4ee3\u8868\u7684\u5c31\u662f\u6570\u636e\u672c\u8eab \u6bd4\u5982\u6570\u636e\u662f{a:[1,2,3]} \u90a3\u4e48\u6211\u4eec\u4f7f\u7528a.push(4)  this\u5c31\u662fa  ob\u5c31\u662fa.__ob__ \u8fd9\u4e2a\u5c5e\u6027\u5c31\u662f\u4e0a\u6bb5\u4ee3\u7801\u589e\u52a0\u7684 \u4ee3\u8868\u7684\u662f\u8be5\u6570\u636e\u5df2\u7ecf\u88ab\u54cd\u5e94\u5f0f\u89c2\u5bdf\u8fc7\u4e86\u6307\u5411Observer\u5b9e\u4f8b\n    const ob = this.__ob__;\n\n    // \u8fd9\u91cc\u7684\u6807\u5fd7\u5c31\u662f\u4ee3\u8868\u6570\u7ec4\u6709\u65b0\u589e\u64cd\u4f5c\n    let inserted;\n    switch (method) {\n      case "push":\n      case "unshift":\n        inserted = args;\n        break;\n      case "splice":\n        inserted = args.slice(2);\n      default:\n        break;\n    }\n    // \u5982\u679c\u6709\u65b0\u589e\u7684\u5143\u7d20 inserted\u662f\u4e00\u4e2a\u6570\u7ec4 \u8c03\u7528Observer\u5b9e\u4f8b\u7684observeArray\u5bf9\u6570\u7ec4\u6bcf\u4e00\u9879\u8fdb\u884c\u89c2\u6d4b\n    if (inserted) ob.observeArray(inserted);\n    // \u4e4b\u540e\u54b1\u4eec\u8fd8\u53ef\u4ee5\u5728\u8fd9\u91cc\u68c0\u6d4b\u5230\u6570\u7ec4\u6539\u53d8\u4e86\u4e4b\u540e\u4ece\u800c\u89e6\u53d1\u89c6\u56fe\u66f4\u65b0\u7684\u64cd\u4f5c--\u540e\u7eed\u6e90\u7801\u4f1a\u63ed\u6653\n    return result;\n  };\n}); \n')),(0,a.kt)("p",null,"\u6570\u7ec4\u7684\u89c2\u6d4b\u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"12-vue30-\u7528\u8fc7\u5417-\u4e86\u89e3\u591a\u5c11"},"12 vue3.0 \u7528\u8fc7\u5417 \u4e86\u89e3\u591a\u5c11"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u54cd\u5e94\u5f0f\u539f\u7406\u7684\u6539\u53d8 Vue3.x \u4f7f\u7528 Proxy \u53d6\u4ee3 Vue2.x \u7248\u672c\u7684 Object.defineProperty"),(0,a.kt)("li",{parentName:"ul"},"\u7ec4\u4ef6\u9009\u9879\u58f0\u660e\u65b9\u5f0f Vue3.x \u4f7f\u7528 Composition API setup \u662f Vue3.x \u65b0\u589e\u7684\u4e00\u4e2a\u9009\u9879\uff0c \u4ed6\u662f\u7ec4\u4ef6\u5185\u4f7f\u7528 Composition API \u7684\u5165\u53e3\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u6a21\u677f\u8bed\u6cd5\u53d8\u5316 slot \u5177\u540d\u63d2\u69fd\u8bed\u6cd5 \u81ea\u5b9a\u4e49\u6307\u4ee4 v-model \u5347\u7ea7"),(0,a.kt)("li",{parentName:"ul"},"\u5176\u5b83\u65b9\u9762\u7684\u66f4\u6539 Suspense \u652f\u6301 Fragment\uff08\u591a\u4e2a\u6839\u8282\u70b9\uff09\u548c Protal\uff08\u5728 dom \u5176\u4ed6\u90e8\u5206\u6e32\u67d3\u7ec4\u5efa\u5185\u5bb9\uff09\u7ec4\u4ef6\uff0c\u9488\u5bf9\u4e00\u4e9b\u7279\u6b8a\u7684\u573a\u666f\u505a\u4e86\u5904\u7406\u3002\u57fa\u4e8e treeshaking \u4f18\u5316\uff0c\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u5185\u7f6e\u529f\u80fd\u3002")),(0,a.kt)("p",null,"Vue3.0 \u65b0\u7279\u6027\u4ee5\u53ca\u4f7f\u7528\u7ecf\u9a8c\u603b\u7ed3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"13-vue30-\u548c-20-\u7684\u54cd\u5e94\u5f0f\u539f\u7406\u533a\u522b"},"13 Vue3.0 \u548c 2.0 \u7684\u54cd\u5e94\u5f0f\u539f\u7406\u533a\u522b"),(0,a.kt)("p",null,"Vue3.x \u6539\u7528 Proxy \u66ff\u4ee3 Object.defineProperty\u3002\u56e0\u4e3a Proxy \u53ef\u4ee5\u76f4\u63a5\u76d1\u542c\u5bf9\u8c61\u548c\u6570\u7ec4\u7684\u53d8\u5316\uff0c\u5e76\u4e14\u6709\u591a\u8fbe 13 \u79cd\u62e6\u622a\u65b9\u6cd5\u3002"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'import { mutableHandlers } from "./baseHandlers"; // \u4ee3\u7406\u76f8\u5173\u903b\u8f91\nimport { isObject } from "./util"; // \u5de5\u5177\u65b9\u6cd5\n\nexport function reactive(target) {\n  // \u6839\u636e\u4e0d\u540c\u53c2\u6570\u521b\u5efa\u4e0d\u540c\u54cd\u5e94\u5f0f\u5bf9\u8c61\n  return createReactiveObject(target, mutableHandlers);\n}\nfunction createReactiveObject(target, baseHandler) {\n  if (!isObject(target)) {\n    return target;\n  }\n  const observed = new Proxy(target, baseHandler);\n  return observed;\n}\n\nconst get = createGetter();\nconst set = createSetter();\n\nfunction createGetter() {\n  return function get(target, key, receiver) {\n    // \u5bf9\u83b7\u53d6\u7684\u503c\u8fdb\u884c\u653e\u5c04\n    const res = Reflect.get(target, key, receiver);\n    console.log("\u5c5e\u6027\u83b7\u53d6", key);\n    if (isObject(res)) {\n      // \u5982\u679c\u83b7\u53d6\u7684\u503c\u662f\u5bf9\u8c61\u7c7b\u578b\uff0c\u5219\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u7684\u4ee3\u7406\u5bf9\u8c61\n      return reactive(res);\n    }\n    return res;\n  };\n}\nfunction createSetter() {\n  return function set(target, key, value, receiver) {\n    const oldValue = target[key];\n    const hadKey = hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (!hadKey) {\n      console.log("\u5c5e\u6027\u65b0\u589e", key, value);\n    } else if (hasChanged(value, oldValue)) {\n      console.log("\u5c5e\u6027\u503c\u88ab\u4fee\u6539", key, value);\n    }\n    return result;\n  };\n}\nexport const mutableHandlers = {\n  get, // \u5f53\u83b7\u53d6\u5c5e\u6027\u65f6\u8c03\u7528\u6b64\u65b9\u6cd5\n  set, // \u5f53\u4fee\u6539\u5c5e\u6027\u65f6\u8c03\u7528\u6b64\u65b9\u6cd5\n}; \n')),(0,a.kt)("h4",{id:"14-vue-\u7684\u7236\u5b50\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u6267\u884c\u987a\u5e8f"},"14 Vue \u7684\u7236\u5b50\u7ec4\u4ef6\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u6267\u884c\u987a\u5e8f"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u52a0\u8f7d\u6e32\u67d3\u8fc7\u7a0b")),(0,a.kt)("p",null,"\u7236 beforeCreate->\u7236 created->\u7236 beforeMount->\u5b50 beforeCreate->\u5b50 created->\u5b50 beforeMount->\u5b50 mounted->\u7236 mounted"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5b50\u7ec4\u4ef6\u66f4\u65b0\u8fc7\u7a0b")),(0,a.kt)("p",null,"\u7236 beforeUpdate->\u5b50 beforeUpdate->\u5b50 updated->\u7236 updated"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u7236\u7ec4\u4ef6\u66f4\u65b0\u8fc7\u7a0b")),(0,a.kt)("p",null,"\u7236 beforeUpdate->\u7236 updated"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u9500\u6bc1\u8fc7\u7a0b")),(0,a.kt)("p",null,"\u7236 beforeDestroy->\u5b50 beforeDestroy->\u5b50 destroyed->\u7236 destroyed"),(0,a.kt)("h4",{id:"15-\u865a\u62df-dom-\u662f\u4ec0\u4e48-\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9"},"15 \u865a\u62df DOM \u662f\u4ec0\u4e48 \u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9"),(0,a.kt)("p",null,"\u7531\u4e8e\u5728\u6d4f\u89c8\u5668\u4e2d\u64cd\u4f5c DOM \u662f\u5f88\u6602\u8d35\u7684\u3002\u9891\u7e41\u7684\u64cd\u4f5c DOM\uff0c\u4f1a\u4ea7\u751f\u4e00\u5b9a\u7684\u6027\u80fd\u95ee\u9898\u3002\u8fd9\u5c31\u662f\u865a\u62df Dom \u7684\u4ea7\u751f\u539f\u56e0\u3002Vue2 \u7684 Virtual DOM  \u501f\u9274\u4e86\u5f00\u6e90\u5e93 snabbdom \u7684\u5b9e\u73b0\u3002Virtual DOM \u672c\u8d28\u5c31\u662f\u7528\u4e00\u4e2a\u539f\u751f\u7684 JS \u5bf9\u8c61\u53bb\u63cf\u8ff0\u4e00\u4e2a DOM \u8282\u70b9\uff0c\u662f\u5bf9\u771f\u5b9e DOM  \u7684\u4e00\u5c42\u62bd\u8c61\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4f18\u70b9\uff1a")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u4fdd\u8bc1\u6027\u80fd\u4e0b\u9650\uff1a\u6846\u67b6\u7684\u865a\u62df DOM \u9700\u8981\u9002\u914d\u4efb\u4f55\u4e0a\u5c42 API \u53ef\u80fd\u4ea7\u751f\u7684\u64cd\u4f5c\uff0c\u5b83\u7684\u4e00\u4e9b DOM \u64cd\u4f5c\u7684\u5b9e\u73b0\u5fc5\u987b\u662f\u666e\u9002\u7684\uff0c\u6240\u4ee5\u5b83\u7684\u6027\u80fd\u5e76\u4e0d\u662f\u6700\u4f18\u7684\uff1b\u4f46\u662f\u6bd4\u8d77\u7c97\u66b4\u7684 DOM  \u64cd\u4f5c\u6027\u80fd\u8981\u597d\u5f88\u591a\uff0c\u56e0\u6b64\u6846\u67b6\u7684\u865a\u62df DOM \u81f3\u5c11\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4f60\u4e0d\u9700\u8981\u624b\u52a8\u4f18\u5316\u7684\u60c5\u51b5\u4e0b\uff0c\u4f9d\u7136\u53ef\u4ee5\u63d0\u4f9b\u8fd8\u4e0d\u9519\u7684\u6027\u80fd\uff0c\u5373\u4fdd\u8bc1\u6027\u80fd\u7684\u4e0b\u9650\uff1b"),(0,a.kt)("li",{parentName:"ol"},"\u65e0\u9700\u624b\u52a8\u64cd\u4f5c DOM\uff1a\u6211\u4eec\u4e0d\u518d\u9700\u8981\u624b\u52a8\u53bb\u64cd\u4f5c DOM\uff0c\u53ea\u9700\u8981\u5199\u597d View-Model \u7684\u4ee3\u7801\u903b\u8f91\uff0c\u6846\u67b6\u4f1a\u6839\u636e\u865a\u62df DOM \u548c \u6570\u636e\u53cc\u5411\u7ed1\u5b9a\uff0c\u5e2e\u6211\u4eec\u4ee5\u53ef\u9884\u671f\u7684\u65b9\u5f0f\u66f4\u65b0\u89c6\u56fe\uff0c\u6781\u5927\u63d0\u9ad8\u6211\u4eec\u7684\u5f00\u53d1\u6548\u7387\uff1b"),(0,a.kt)("li",{parentName:"ol"},"\u8de8\u5e73\u53f0\uff1a\u865a\u62df DOM \u672c\u8d28\u4e0a\u662f JavaScript \u5bf9\u8c61,\u800c DOM \u4e0e\u5e73\u53f0\u5f3a\u76f8\u5173\uff0c\u76f8\u6bd4\u4e4b\u4e0b\u865a\u62df DOM \u53ef\u4ee5\u8fdb\u884c\u66f4\u65b9\u4fbf\u5730\u8de8\u5e73\u53f0\u64cd\u4f5c\uff0c\u4f8b\u5982\u670d\u52a1\u5668\u6e32\u67d3\u3001weex \u5f00\u53d1\u7b49\u7b49\u3002")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7f3a\u70b9:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u65e0\u6cd5\u8fdb\u884c\u6781\u81f4\u4f18\u5316\uff1a\u867d\u7136\u865a\u62df DOM + \u5408\u7406\u7684\u4f18\u5316\uff0c\u8db3\u4ee5\u5e94\u5bf9\u7edd\u5927\u90e8\u5206\u5e94\u7528\u7684\u6027\u80fd\u9700\u6c42\uff0c\u4f46\u5728\u4e00\u4e9b\u6027\u80fd\u8981\u6c42\u6781\u9ad8\u7684\u5e94\u7528\u4e2d\u865a\u62df DOM \u65e0\u6cd5\u8fdb\u884c\u9488\u5bf9\u6027\u7684\u6781\u81f4\u4f18\u5316\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u9996\u6b21\u6e32\u67d3\u5927\u91cf DOM \u65f6\uff0c\u7531\u4e8e\u591a\u4e86\u4e00\u5c42\u865a\u62df DOM \u7684\u8ba1\u7b97\uff0c\u4f1a\u6bd4 innerHTML \u63d2\u5165\u6162\u3002")),(0,a.kt)("h4",{id:"16-v-model-\u539f\u7406"},"16 v-model \u539f\u7406"),(0,a.kt)("p",null,"v-model \u53ea\u662f\u8bed\u6cd5\u7cd6\u800c\u5df2"),(0,a.kt)("p",null,"v-model \u5728\u5185\u90e8\u4e3a\u4e0d\u540c\u7684\u8f93\u5165\u5143\u7d20\u4f7f\u7528\u4e0d\u540c\u7684 property \u5e76\u629b\u51fa\u4e0d\u540c\u7684\u4e8b\u4ef6\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"text \u548c textarea \u5143\u7d20\u4f7f\u7528 value property \u548c input \u4e8b\u4ef6\uff1b"),(0,a.kt)("li",{parentName:"ul"},"checkbox \u548c radio \u4f7f\u7528 checked property \u548c change \u4e8b\u4ef6\uff1b"),(0,a.kt)("li",{parentName:"ul"},"select \u5b57\u6bb5\u5c06 value \u4f5c\u4e3a prop \u5e76\u5c06 change \u4f5c\u4e3a\u4e8b\u4ef6\u3002")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f:\u5bf9\u4e8e\u9700\u8981\u4f7f\u7528\u8f93\u5165\u6cd5 (\u5982\u4e2d\u6587\u3001\u65e5\u6587\u3001\u97e9\u6587\u7b49) \u7684\u8bed\u8a00\uff0c\u4f60\u4f1a\u53d1\u73b0 v-model \u4e0d\u4f1a\u5728\u8f93\u5165\u6cd5\u7ec4\u5408\u6587\u5b57\u8fc7\u7a0b\u4e2d\u5f97\u5230\u66f4\u65b0\u3002")),(0,a.kt)("p",null,"\u5728\u666e\u901a\u6807\u7b7e\u4e0a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},' <input v-model="sth" />  //\u8fd9\u4e00\u884c\u7b49\u4e8e\u4e0b\u4e00\u884c\n    <input v-bind:value="sth" v-on:input="sth = $event.target.value" /> \n')),(0,a.kt)("p",null,"\u5728\u7ec4\u4ef6\u4e0a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<currency-input v-model="price"></currentcy-input>\n\x3c!--\u4e0a\u884c\u4ee3\u7801\u662f\u4e0b\u884c\u7684\u8bed\u6cd5\u7cd6\n <currency-input :value="price" @input="price = arguments[0]"></currency-input>\n--\x3e\n\n\x3c!-- \u5b50\u7ec4\u4ef6\u5b9a\u4e49 --\x3e\nVue.component(\'currency-input\', {\n template: `\n  <span>\n   <input\n    ref="input"\n    :value="value"\n    @input="$emit(\'input\', $event.target.value)"\n   >\n  </span>\n `,\n props: [\'value\'],\n}) \n')),(0,a.kt)("h4",{id:"17-v-for-\u4e3a\u4ec0\u4e48\u8981\u52a0-key"},"17 v-for \u4e3a\u4ec0\u4e48\u8981\u52a0 key"),(0,a.kt)("p",null,"\u5982\u679c\u4e0d\u4f7f\u7528 key\uff0cVue \u4f1a\u4f7f\u7528\u4e00\u79cd\u6700\u5927\u9650\u5ea6\u51cf\u5c11\u52a8\u6001\u5143\u7d20\u5e76\u4e14\u5c3d\u53ef\u80fd\u7684\u5c1d\u8bd5\u5c31\u5730\u4fee\u6539/\u590d\u7528\u76f8\u540c\u7c7b\u578b\u5143\u7d20\u7684\u7b97\u6cd5\u3002key \u662f\u4e3a Vue \u4e2d vnode \u7684\u552f\u4e00\u6807\u8bb0\uff0c\u901a\u8fc7\u8fd9\u4e2a key\uff0c\u6211\u4eec\u7684 diff \u64cd\u4f5c\u53ef\u4ee5\u66f4\u51c6\u786e\u3001\u66f4\u5feb\u901f"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u66f4\u51c6\u786e"),"\uff1a\u56e0\u4e3a\u5e26 key \u5c31\u4e0d\u662f\u5c31\u5730\u590d\u7528\u4e86\uff0c\u5728 sameNode \u51fd\u6570 a.key === b.key \u5bf9\u6bd4\u4e2d\u53ef\u4ee5\u907f\u514d\u5c31\u5730\u590d\u7528\u7684\u60c5\u51b5\u3002\u6240\u4ee5\u4f1a\u66f4\u52a0\u51c6\u786e\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u66f4\u5feb\u901f"),"\uff1a\u5229\u7528 key \u7684\u552f\u4e00\u6027\u751f\u6210 map \u5bf9\u8c61\u6765\u83b7\u53d6\u5bf9\u5e94\u8282\u70b9\uff0c\u6bd4\u904d\u5386\u65b9\u5f0f\u66f4\u5feb"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// \u5224\u65ad\u4e24\u4e2avnode\u7684\u6807\u7b7e\u548ckey\u662f\u5426\u76f8\u540c \u5982\u679c\u76f8\u540c \u5c31\u53ef\u4ee5\u8ba4\u4e3a\u662f\u540c\u4e00\u8282\u70b9\u5c31\u5730\u590d\u7528\nfunction isSameVnode(oldVnode, newVnode) {\n  return oldVnode.tag === newVnode.tag && oldVnode.key === newVnode.key;\n}\n\n// \u6839\u636ekey\u6765\u521b\u5efa\u8001\u7684\u513f\u5b50\u7684index\u6620\u5c04\u8868  \u7c7b\u4f3c {'a':0,'b':1} \u4ee3\u8868key\u4e3a'a'\u7684\u8282\u70b9\u5728\u7b2c\u4e00\u4e2a\u4f4d\u7f6e key\u4e3a'b'\u7684\u8282\u70b9\u5728\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\nfunction makeIndexByKey(children) {\n  let map = {};\n  children.forEach((item, index) => {\n    map[item.key] = index;\n  });\n  return map;\n}\n// \u751f\u6210\u7684\u6620\u5c04\u8868\nlet map = makeIndexByKey(oldCh); \n")),(0,a.kt)("p",null,"diff \u7b97\u6cd5\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"18-vue-\u4e8b\u4ef6\u7ed1\u5b9a\u539f\u7406"},"18 Vue \u4e8b\u4ef6\u7ed1\u5b9a\u539f\u7406"),(0,a.kt)("p",null,"\u539f\u751f\u4e8b\u4ef6\u7ed1\u5b9a\u662f\u901a\u8fc7 addEventListener \u7ed1\u5b9a\u7ed9\u771f\u5b9e\u5143\u7d20\u7684\uff0c\u7ec4\u4ef6\u4e8b\u4ef6\u7ed1\u5b9a\u662f\u901a\u8fc7 Vue \u81ea\u5b9a\u4e49\u7684$on \u5b9e\u73b0\u7684\u3002\u5982\u679c\u8981\u5728\u7ec4\u4ef6\u4e0a\u4f7f\u7528\u539f\u751f\u4e8b\u4ef6\uff0c\u9700\u8981\u52a0.native \u4fee\u9970\u7b26\uff0c\u8fd9\u6837\u5c31\u76f8\u5f53\u4e8e\u5728\u7236\u7ec4\u4ef6\u4e2d\u628a\u5b50\u7ec4\u4ef6\u5f53\u505a\u666e\u901a html \u6807\u7b7e\uff0c\u7136\u540e\u52a0\u4e0a\u539f\u751f\u4e8b\u4ef6\u3002"),(0,a.kt)("p",null,"\u3001emit \u662f\u57fa\u4e8e\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u7684\uff0c\u7ef4\u62a4\u4e00\u4e2a\u4e8b\u4ef6\u4e2d\u5fc3\uff0con \u7684\u65f6\u5019\u5c06\u4e8b\u4ef6\u6309\u540d\u79f0\u5b58\u5728\u4e8b\u4ef6\u4e2d\u5fc3\u91cc\uff0c\u79f0\u4e4b\u4e3a\u8ba2\u9605\u8005\uff0c\u7136\u540e emit \u5c06\u5bf9\u5e94\u7684\u4e8b\u4ef6\u8fdb\u884c\u53d1\u5e03\uff0c\u53bb\u6267\u884c\u4e8b\u4ef6\u4e2d\u5fc3\u91cc\u7684\u5bf9\u5e94\u7684\u76d1\u542c\u5668"),(0,a.kt)("p",null,"\u624b\u5199\u53d1\u5e03\u8ba2\u9605\u539f\u7406 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"19-vue-router-\u8def\u7531\u94a9\u5b50\u51fd\u6570\u662f\u4ec0\u4e48-\u6267\u884c\u987a\u5e8f\u662f\u4ec0\u4e48"},"19 vue-router \u8def\u7531\u94a9\u5b50\u51fd\u6570\u662f\u4ec0\u4e48 \u6267\u884c\u987a\u5e8f\u662f\u4ec0\u4e48"),(0,a.kt)("p",null,"\u8def\u7531\u94a9\u5b50\u7684\u6267\u884c\u6d41\u7a0b, \u94a9\u5b50\u51fd\u6570\u79cd\u7c7b\u6709:\u5168\u5c40\u5b88\u536b\u3001\u8def\u7531\u5b88\u536b\u3001\u7ec4\u4ef6\u5b88\u536b"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u5b8c\u6574\u7684\u5bfc\u822a\u89e3\u6790\u6d41\u7a0b:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5bfc\u822a\u88ab\u89e6\u53d1\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u5728\u5931\u6d3b\u7684\u7ec4\u4ef6\u91cc\u8c03\u7528 beforeRouteLeave \u5b88\u536b\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u8c03\u7528\u5168\u5c40\u7684 beforeEach \u5b88\u536b\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u5728\u91cd\u7528\u7684\u7ec4\u4ef6\u91cc\u8c03\u7528 beforeRouteUpdate \u5b88\u536b (2.2+)\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u5728\u8def\u7531\u914d\u7f6e\u91cc\u8c03\u7528 beforeEnter\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u89e3\u6790\u5f02\u6b65\u8def\u7531\u7ec4\u4ef6\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u5728\u88ab\u6fc0\u6d3b\u7684\u7ec4\u4ef6\u91cc\u8c03\u7528 beforeRouteEnter\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u8c03\u7528\u5168\u5c40\u7684 beforeResolve \u5b88\u536b (2.5+)\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u5bfc\u822a\u88ab\u786e\u8ba4\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u8c03\u7528\u5168\u5c40\u7684 afterEach \u94a9\u5b50\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u89e6\u53d1 DOM \u66f4\u65b0\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u8c03\u7528 beforeRouteEnter \u5b88\u536b\u4e2d\u4f20\u7ed9 next \u7684\u56de\u8c03\u51fd\u6570\uff0c\u521b\u5efa\u597d\u7684\u7ec4\u4ef6\u5b9e\u4f8b\u4f1a\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\u3002")),(0,a.kt)("h4",{id:"20-vue-router-\u52a8\u6001\u8def\u7531\u662f\u4ec0\u4e48-\u6709\u4ec0\u4e48\u95ee\u9898"},"20 vue-router \u52a8\u6001\u8def\u7531\u662f\u4ec0\u4e48 \u6709\u4ec0\u4e48\u95ee\u9898"),(0,a.kt)("p",null,"\u6211\u4eec\u7ecf\u5e38\u9700\u8981\u628a\u67d0\u79cd\u6a21\u5f0f\u5339\u914d\u5230\u7684\u6240\u6709\u8def\u7531\uff0c\u5168\u90fd\u6620\u5c04\u5230\u540c\u4e2a\u7ec4\u4ef6\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u4e00\u4e2a User \u7ec4\u4ef6\uff0c\u5bf9\u4e8e\u6240\u6709 ID \u5404\u4e0d\u76f8\u540c\u7684\u7528\u6237\uff0c\u90fd\u8981\u4f7f\u7528\u8fd9\u4e2a\u7ec4\u4ef6\u6765\u6e32\u67d3\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 vue-router  \u7684\u8def\u7531\u8def\u5f84\u4e2d\u4f7f\u7528\u201c\u52a8\u6001\u8def\u5f84\u53c2\u6570\u201d(dynamic segment) \u6765\u8fbe\u5230\u8fd9\u4e2a\u6548\u679c\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'const User = {\n  template: "<div>User</div>",\n};\n\nconst router = new VueRouter({\n  routes: [\n    // \u52a8\u6001\u8def\u5f84\u53c2\u6570 \u4ee5\u5192\u53f7\u5f00\u5934\n    { path: "/user/:id", component: User },\n  ],\n}); \n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u95ee\u9898:vue-router \u7ec4\u4ef6\u590d\u7528\u5bfc\u81f4\u8def\u7531\u53c2\u6570\u5931\u6548\u600e\u4e48\u529e\uff1f")),(0,a.kt)("p",null,"\u89e3\u51b3\u65b9\u6cd5\uff1a"),(0,a.kt)("p",null,"1.\u901a\u8fc7 watch \u76d1\u542c\u8def\u7531\u53c2\u6570\u518d\u53d1\u8bf7\u6c42"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'watch: { //\u901a\u8fc7watch\u6765\u76d1\u542c\u8def\u7531\u53d8\u5316\n\n "$route": function(){\n this.getData(this.$route.params.xxx);\n }\n} \n')),(0,a.kt)("p",null,"2.\u7528 :key \u6765\u963b\u6b62\u201c\u590d\u7528\u201d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<router-view :key="$route.fullPath" /> \n')),(0,a.kt)("h4",{id:"21-\u8c08\u4e00\u4e0b\u5bf9-vuex-\u7684\u4e2a\u4eba\u7406\u89e3"},"21 \u8c08\u4e00\u4e0b\u5bf9 vuex \u7684\u4e2a\u4eba\u7406\u89e3"),(0,a.kt)("p",null,"vuex \u662f\u4e13\u95e8\u4e3a vue \u63d0\u4f9b\u7684\u5168\u5c40\u72b6\u6001\u7ba1\u7406\u7cfb\u7edf\uff0c\u7528\u4e8e\u591a\u4e2a\u7ec4\u4ef6\u4e2d\u6570\u636e\u5171\u4eab\u3001\u6570\u636e\u7f13\u5b58\u7b49\u3002\uff08\u65e0\u6cd5\u6301\u4e45\u5316\u3001\u5185\u90e8\u6838\u5fc3\u539f\u7406\u662f\u901a\u8fc7\u521b\u9020\u4e00\u4e2a\u5168\u5c40\u5b9e\u4f8b new Vue\uff09"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://filescdn.proginn.com/2a22391db18f3fc95c87afa0ca822f14/203ef3608bf2265de4d602949bd13f5a.webp",alt:"img"})," \u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u6a21\u5757\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"State\uff1a\u5b9a\u4e49\u4e86\u5e94\u7528\u72b6\u6001\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u521d\u59cb\u72b6\u6001\u3002"),(0,a.kt)("li",{parentName:"ul"},"Getter\uff1a\u5141\u8bb8\u7ec4\u4ef6\u4ece Store \u4e2d\u83b7\u53d6\u6570\u636e\uff0cmapGetters \u8f85\u52a9\u51fd\u6570\u4ec5\u4ec5\u662f\u5c06 store \u4e2d\u7684 getter \u6620\u5c04\u5230\u5c40\u90e8\u8ba1\u7b97\u5c5e\u6027\u3002"),(0,a.kt)("li",{parentName:"ul"},"Mutation\uff1a\u662f\u552f\u4e00\u66f4\u6539 store \u4e2d\u72b6\u6001\u7684\u65b9\u6cd5\uff0c\u4e14\u5fc5\u987b\u662f\u540c\u6b65\u51fd\u6570\u3002"),(0,a.kt)("li",{parentName:"ul"},"Action\uff1a\u7528\u4e8e\u63d0\u4ea4 mutation\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u53d8\u66f4\u72b6\u6001\uff0c\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u5f02\u6b65\u64cd\u4f5c\u3002"),(0,a.kt)("li",{parentName:"ul"},"Module\uff1a\u5141\u8bb8\u5c06\u5355\u4e00\u7684 Store \u62c6\u5206\u4e3a\u591a\u4e2a store \u4e14\u540c\u65f6\u4fdd\u5b58\u5728\u5355\u4e00\u7684\u72b6\u6001\u6811\u4e2d\u3002")),(0,a.kt)("h4",{id:"22-vuex-\u9875\u9762\u5237\u65b0\u6570\u636e\u4e22\u5931\u600e\u4e48\u89e3\u51b3"},"22 Vuex \u9875\u9762\u5237\u65b0\u6570\u636e\u4e22\u5931\u600e\u4e48\u89e3\u51b3"),(0,a.kt)("p",null,"\u9700\u8981\u505a vuex \u6570\u636e\u6301\u4e45\u5316 \u4e00\u822c\u4f7f\u7528\u672c\u5730\u5b58\u50a8\u7684\u65b9\u6848\u6765\u4fdd\u5b58\u6570\u636e \u53ef\u4ee5\u81ea\u5df1\u8bbe\u8ba1\u5b58\u50a8\u65b9\u6848 \u4e5f\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u63d2\u4ef6"),(0,a.kt)("p",null,"\u63a8\u8350\u4f7f\u7528 vuex-persist \u63d2\u4ef6\uff0c\u5b83\u5c31\u662f\u4e3a Vuex \u6301\u4e45\u5316\u5b58\u50a8\u800c\u751f\u7684\u4e00\u4e2a\u63d2\u4ef6\u3002\u4e0d\u9700\u8981\u4f60\u624b\u52a8\u5b58\u53d6 storage \uff0c\u800c\u662f\u76f4\u63a5\u5c06\u72b6\u6001\u4fdd\u5b58\u81f3 cookie \u6216\u8005 localStorage \u4e2d"),(0,a.kt)("h4",{id:"23-vuex-\u4e3a\u4ec0\u4e48\u8981\u5206\u6a21\u5757\u5e76\u4e14\u52a0\u547d\u540d\u7a7a\u95f4"},"23 Vuex \u4e3a\u4ec0\u4e48\u8981\u5206\u6a21\u5757\u5e76\u4e14\u52a0\u547d\u540d\u7a7a\u95f4"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6a21\u5757"),":\u7531\u4e8e\u4f7f\u7528\u5355\u4e00\u72b6\u6001\u6811\uff0c\u5e94\u7528\u7684\u6240\u6709\u72b6\u6001\u4f1a\u96c6\u4e2d\u5230\u4e00\u4e2a\u6bd4\u8f83\u5927\u7684\u5bf9\u8c61\u3002\u5f53\u5e94\u7528\u53d8\u5f97\u975e\u5e38\u590d\u6742\u65f6\uff0cstore \u5bf9\u8c61\u5c31\u6709\u53ef\u80fd\u53d8\u5f97\u76f8\u5f53\u81c3\u80bf\u3002\u4e3a\u4e86\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\uff0cVuex \u5141\u8bb8\u6211\u4eec\u5c06 store \u5206\u5272\u6210\u6a21\u5757\uff08module\uff09\u3002\u6bcf\u4e2a\u6a21\u5757\u62e5\u6709\u81ea\u5df1\u7684  state\u3001mutation\u3001action\u3001getter\u3001\u751a\u81f3\u662f\u5d4c\u5957\u5b50\u6a21\u5757\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u547d\u540d\u7a7a\u95f4"),"\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6a21\u5757\u5185\u90e8\u7684 action\u3001mutation \u548c getter \u662f\u6ce8\u518c\u5728\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u7684\u2014\u2014\u8fd9\u6837\u4f7f\u5f97\u591a\u4e2a\u6a21\u5757\u80fd\u591f\u5bf9\u540c\u4e00 mutation \u6216 action  \u4f5c\u51fa\u54cd\u5e94\u3002\u5982\u679c\u5e0c\u671b\u4f60\u7684\u6a21\u5757\u5177\u6709\u66f4\u9ad8\u7684\u5c01\u88c5\u5ea6\u548c\u590d\u7528\u6027\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0 namespaced: true  \u7684\u65b9\u5f0f\u4f7f\u5176\u6210\u4e3a\u5e26\u547d\u540d\u7a7a\u95f4\u7684\u6a21\u5757\u3002\u5f53\u6a21\u5757\u88ab\u6ce8\u518c\u540e\uff0c\u5b83\u7684\u6240\u6709 getter\u3001action \u53ca mutation \u90fd\u4f1a\u81ea\u52a8\u6839\u636e\u6a21\u5757\u6ce8\u518c\u7684\u8def\u5f84\u8c03\u6574\u547d\u540d\u3002"),(0,a.kt)("h4",{id:"24-\u4f7f\u7528\u8fc7-vue-ssr-\u5417\u8bf4\u8bf4-ssr"},"24 \u4f7f\u7528\u8fc7 Vue SSR \u5417\uff1f\u8bf4\u8bf4 SSR"),(0,a.kt)("p",null,"SSR \u4e5f\u5c31\u662f\u670d\u52a1\u7aef\u6e32\u67d3\uff0c\u4e5f\u5c31\u662f\u5c06 Vue \u5728\u5ba2\u6237\u7aef\u628a\u6807\u7b7e\u6e32\u67d3\u6210 HTML \u7684\u5de5\u4f5c\u653e\u5728\u670d\u52a1\u7aef\u5b8c\u6210\uff0c\u7136\u540e\u518d\u628a html \u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4f18\u70b9\uff1a")),(0,a.kt)("p",null,"SSR \u6709\u7740\u66f4\u597d\u7684 SEO\u3001\u5e76\u4e14\u9996\u5c4f\u52a0\u8f7d\u901f\u5ea6\u66f4\u5feb"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7f3a\u70b9\uff1a")," \u5f00\u53d1\u6761\u4ef6\u4f1a\u53d7\u5230\u9650\u5236\uff0c\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u53ea\u652f\u6301 beforeCreate \u548c created \u4e24\u4e2a\u94a9\u5b50\uff0c\u5f53\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u5916\u90e8\u6269\u5c55\u5e93\u65f6\u9700\u8981\u7279\u6b8a\u5904\u7406\uff0c\u670d\u52a1\u7aef\u6e32\u67d3\u5e94\u7528\u7a0b\u5e8f\u4e5f\u9700\u8981\u5904\u4e8e Node.js \u7684\u8fd0\u884c\u73af\u5883\u3002"),(0,a.kt)("p",null,"\u670d\u52a1\u5668\u4f1a\u6709\u66f4\u5927\u7684\u8d1f\u8f7d\u9700\u6c42"),(0,a.kt)("h4",{id:"25-vue-\u4e2d\u4f7f\u7528\u4e86\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f"},"25 vue \u4e2d\u4f7f\u7528\u4e86\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f"),(0,a.kt)("p",null,"1.\u5de5\u5382\u6a21\u5f0f - \u4f20\u5165\u53c2\u6570\u5373\u53ef\u521b\u5efa\u5b9e\u4f8b"),(0,a.kt)("p",null,"\u865a\u62df DOM \u6839\u636e\u53c2\u6570\u7684\u4e0d\u540c\u8fd4\u56de\u57fa\u7840\u6807\u7b7e\u7684 Vnode \u548c\u7ec4\u4ef6 Vnode"),(0,a.kt)("p",null,"2.\u5355\u4f8b\u6a21\u5f0f - \u6574\u4e2a\u7a0b\u5e8f\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u5b9e\u4f8b"),(0,a.kt)("p",null,"vuex \u548c vue-router \u7684\u63d2\u4ef6\u6ce8\u518c\u65b9\u6cd5 install \u5224\u65ad\u5982\u679c\u7cfb\u7edf\u5b58\u5728\u5b9e\u4f8b\u5c31\u76f4\u63a5\u8fd4\u56de\u6389"),(0,a.kt)("p",null,"3.\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f (vue \u4e8b\u4ef6\u673a\u5236)"),(0,a.kt)("p",null,"4.\u89c2\u5bdf\u8005\u6a21\u5f0f (\u54cd\u5e94\u5f0f\u6570\u636e\u539f\u7406)"),(0,a.kt)("p",null,"5.\u88c5\u9970\u6a21\u5f0f: (@\u88c5\u9970\u5668\u7684\u7528\u6cd5)"),(0,a.kt)("p",null,"6.\u7b56\u7565\u6a21\u5f0f \u7b56\u7565\u6a21\u5f0f\u6307\u5bf9\u8c61\u6709\u67d0\u4e2a\u884c\u4e3a,\u4f46\u662f\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e2d,\u8be5\u884c\u4e3a\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u6848-\u6bd4\u5982\u9009\u9879\u7684\u5408\u5e76\u7b56\u7565"),(0,a.kt)("p",null,"...\u5176\u4ed6\u6a21\u5f0f\u6b22\u8fce\u8865\u5145"),(0,a.kt)("h4",{id:"26-\u4f60\u90fd\u505a\u8fc7\u54ea\u4e9b-vue-\u7684\u6027\u80fd\u4f18\u5316"},"26 \u4f60\u90fd\u505a\u8fc7\u54ea\u4e9b Vue \u7684\u6027\u80fd\u4f18\u5316"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u53ea\u5217\u4e3e\u9488\u5bf9 Vue \u7684\u6027\u80fd\u4f18\u5316 \u6574\u4e2a\u9879\u76ee\u7684\u6027\u80fd\u4f18\u5316\u662f\u4e00\u4e2a\u5927\u5de5\u7a0b \u53ef\u4ee5\u53e6\u5199\u4e00\u7bc7\u6027\u80fd\u4f18\u5316\u7684\u6587\u7ae0 \u54c8\u54c8")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5bf9\u8c61\u5c42\u7ea7\u4e0d\u8981\u8fc7\u6df1\uff0c\u5426\u5219\u6027\u80fd\u5c31\u4f1a\u5dee"),(0,a.kt)("li",{parentName:"ul"},"\u4e0d\u9700\u8981\u54cd\u5e94\u5f0f\u7684\u6570\u636e\u4e0d\u8981\u653e\u5230 data \u4e2d\uff08\u53ef\u4ee5\u7528 Object.freeze() \u51bb\u7ed3\u6570\u636e\uff09"),(0,a.kt)("li",{parentName:"ul"},"v-if \u548c v-show \u533a\u5206\u4f7f\u7528\u573a\u666f"),(0,a.kt)("li",{parentName:"ul"},"computed \u548c watch \u533a\u5206\u4f7f\u7528\u573a\u666f"),(0,a.kt)("li",{parentName:"ul"},"v-for \u904d\u5386\u5fc5\u987b\u52a0 key\uff0ckey \u6700\u597d\u662f id \u503c\uff0c\u4e14\u907f\u514d\u540c\u65f6\u4f7f\u7528 v-if"),(0,a.kt)("li",{parentName:"ul"},"\u5927\u6570\u636e\u5217\u8868\u548c\u8868\u683c\u6027\u80fd\u4f18\u5316-\u865a\u62df\u5217\u8868/\u865a\u62df\u8868\u683c"),(0,a.kt)("li",{parentName:"ul"},"\u9632\u6b62\u5185\u90e8\u6cc4\u6f0f\uff0c\u7ec4\u4ef6\u9500\u6bc1\u540e\u628a\u5168\u5c40\u53d8\u91cf\u548c\u4e8b\u4ef6\u9500\u6bc1"),(0,a.kt)("li",{parentName:"ul"},"\u56fe\u7247\u61d2\u52a0\u8f7d"),(0,a.kt)("li",{parentName:"ul"},"\u8def\u7531\u61d2\u52a0\u8f7d"),(0,a.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u65b9\u63d2\u4ef6\u7684\u6309\u9700\u5f15\u5165"),(0,a.kt)("li",{parentName:"ul"},"\u9002\u5f53\u91c7\u7528 keep-alive \u7f13\u5b58\u7ec4\u4ef6"),(0,a.kt)("li",{parentName:"ul"},"\u9632\u6296\u3001\u8282\u6d41\u8fd0\u7528"),(0,a.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u6e32\u67d3 SSR or \u9884\u6e32\u67d3")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"\u56f0\u96be"},"\u56f0\u96be"),(0,a.kt)("h4",{id:"27-vuemixin-\u7684\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"},"27 Vue.mixin \u7684\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"),(0,a.kt)("p",null,"\u5728\u65e5\u5e38\u7684\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u4f1a\u9047\u5230\u5728\u4e0d\u540c\u7684\u7ec4\u4ef6\u4e2d\u7ecf\u5e38\u4f1a\u9700\u8981\u7528\u5230\u4e00\u4e9b\u76f8\u540c\u6216\u8005\u76f8\u4f3c\u7684\u4ee3\u7801\uff0c\u8fd9\u4e9b\u4ee3\u7801\u7684\u529f\u80fd\u76f8\u5bf9\u72ec\u7acb\uff0c\u53ef\u4ee5\u901a\u8fc7 Vue \u7684 mixin \u529f\u80fd\u62bd\u79bb\u516c\u5171\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u539f\u7406\u7c7b\u4f3c\u201c\u5bf9\u8c61\u7684\u7ee7\u627f\u201d\uff0c\u5f53\u7ec4\u4ef6\u521d\u59cb\u5316\u65f6\u4f1a\u8c03\u7528 mergeOptions  \u65b9\u6cd5\u8fdb\u884c\u5408\u5e76\uff0c\u91c7\u7528\u7b56\u7565\u6a21\u5f0f\u9488\u5bf9\u4e0d\u540c\u7684\u5c5e\u6027\u8fdb\u884c\u5408\u5e76\u3002\u5f53\u7ec4\u4ef6\u548c\u6df7\u5165\u5bf9\u8c61\u542b\u6709\u540c\u540d\u9009\u9879\u65f6\uff0c\u8fd9\u4e9b\u9009\u9879\u5c06\u4ee5\u6070\u5f53\u7684\u65b9\u5f0f\u8fdb\u884c\u201c\u5408\u5e76\u201d\u3002"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'export default function initMixin(Vue){\n  Vue.mixin = function (mixin) {\n    //   \u5408\u5e76\u5bf9\u8c61\n      this.options=mergeOptions(this.options,mixin)\n  };\n}\n};\n\n// src/util/index.js\n// \u5b9a\u4e49\u751f\u547d\u5468\u671f\nexport const LIFECYCLE_HOOKS = [\n  "beforeCreate",\n  "created",\n  "beforeMount",\n  "mounted",\n  "beforeUpdate",\n  "updated",\n  "beforeDestroy",\n  "destroyed",\n];\n\n// \u5408\u5e76\u7b56\u7565\nconst strats = {};\n// mixin\u6838\u5fc3\u65b9\u6cd5\nexport function mergeOptions(parent, child) {\n  const options = {};\n  // \u904d\u5386\u7236\u4eb2\n  for (let k in parent) {\n    mergeFiled(k);\n  }\n  // \u7236\u4eb2\u6ca1\u6709 \u513f\u5b50\u6709\n  for (let k in child) {\n    if (!parent.hasOwnProperty(k)) {\n      mergeFiled(k);\n    }\n  }\n\n  //\u771f\u6b63\u5408\u5e76\u5b57\u6bb5\u65b9\u6cd5\n  function mergeFiled(k) {\n    if (strats[k]) {\n      options[k] = strats[k](parent[k], child[k]);\n    } else {\n      // \u9ed8\u8ba4\u7b56\u7565\n      options[k] = child[k] ? child[k] : parent[k];\n    }\n  }\n  return options;\n} \n')),(0,a.kt)("p",null,"Vue.mixin \u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"28-nexttick-\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"},"28 nextTick \u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"),(0,a.kt)("p",null,"nextTick \u4e2d\u7684\u56de\u8c03\u662f\u5728\u4e0b\u6b21 DOM \u66f4\u65b0\u5faa\u73af\u7ed3\u675f\u4e4b\u540e\u6267\u884c\u7684\u5ef6\u8fdf\u56de\u8c03\u3002\u5728\u4fee\u6539\u6570\u636e\u4e4b\u540e\u7acb\u5373\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u83b7\u53d6\u66f4\u65b0\u540e\u7684 DOM\u3002\u4e3b\u8981\u601d\u8def\u5c31\u662f\u91c7\u7528\u5fae\u4efb\u52a1\u4f18\u5148\u7684\u65b9\u5f0f\u8c03\u7528\u5f02\u6b65\u65b9\u6cd5\u53bb\u6267\u884c nextTick \u5305\u88c5\u7684\u65b9\u6cd5"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'let callbacks = [];\nlet pending = false;\nfunction flushCallbacks() {\n  pending = false; //\u628a\u6807\u5fd7\u8fd8\u539f\u4e3afalse\n  // \u4f9d\u6b21\u6267\u884c\u56de\u8c03\n  for (let i = 0; i < callbacks.length; i++) {\n    callbacks[i]();\n  }\n}\nlet timerFunc; //\u5b9a\u4e49\u5f02\u6b65\u65b9\u6cd5  \u91c7\u7528\u4f18\u96c5\u964d\u7ea7\nif (typeof Promise !== "undefined") {\n  // \u5982\u679c\u652f\u6301promise\n  const p = Promise.resolve();\n  timerFunc = () => {\n    p.then(flushCallbacks);\n  };\n} else if (typeof MutationObserver !== "undefined") {\n  // MutationObserver \u4e3b\u8981\u662f\u76d1\u542cdom\u53d8\u5316 \u4e5f\u662f\u4e00\u4e2a\u5f02\u6b65\u65b9\u6cd5\n  let counter = 1;\n  const observer = new MutationObserver(flushCallbacks);\n  const textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true,\n  });\n  timerFunc = () => {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n} else if (typeof setImmediate !== "undefined") {\n  // \u5982\u679c\u524d\u9762\u90fd\u4e0d\u652f\u6301 \u5224\u65adsetImmediate\n  timerFunc = () => {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // \u6700\u540e\u964d\u7ea7\u91c7\u7528setTimeout\n  timerFunc = () => {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nexport function nextTick(cb) {\n  // \u9664\u4e86\u6e32\u67d3watcher  \u8fd8\u6709\u7528\u6237\u81ea\u5df1\u624b\u52a8\u8c03\u7528\u7684nextTick \u4e00\u8d77\u88ab\u6536\u96c6\u5230\u6570\u7ec4\n  callbacks.push(cb);\n  if (!pending) {\n    // \u5982\u679c\u591a\u6b21\u8c03\u7528nextTick  \u53ea\u4f1a\u6267\u884c\u4e00\u6b21\u5f02\u6b65 \u7b49\u5f02\u6b65\u961f\u5217\u6e05\u7a7a\u4e4b\u540e\u518d\u628a\u6807\u5fd7\u53d8\u4e3afalse\n    pending = true;\n    timerFunc();\n  }\n} \n')),(0,a.kt)("p",null,"nextTick \u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"29-keep-alive-\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"},"29 keep-alive \u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"),(0,a.kt)("p",null,"keep-alive \u662f Vue \u5185\u7f6e\u7684\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u5b9e\u73b0\u7ec4\u4ef6\u7f13\u5b58\uff0c\u5f53\u7ec4\u4ef6\u5207\u6362\u65f6\u4e0d\u4f1a\u5bf9\u5f53\u524d\u7ec4\u4ef6\u8fdb\u884c\u5378\u8f7d\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5e38\u7528\u7684\u4e24\u4e2a\u5c5e\u6027 include/exclude\uff0c\u5141\u8bb8\u7ec4\u4ef6\u6709\u6761\u4ef6\u7684\u8fdb\u884c\u7f13\u5b58\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u4e24\u4e2a\u751f\u547d\u5468\u671f activated/deactivated\uff0c\u7528\u6765\u5f97\u77e5\u5f53\u524d\u7ec4\u4ef6\u662f\u5426\u5904\u4e8e\u6d3b\u8dc3\u72b6\u6001\u3002"),(0,a.kt)("li",{parentName:"ul"},"keep-alive \u7684\u4e2d\u8fd8\u8fd0\u7528\u4e86 LRU(\u6700\u8fd1\u6700\u5c11\u4f7f\u7528) \u7b97\u6cd5\uff0c\u9009\u62e9\u6700\u8fd1\u6700\u4e45\u672a\u4f7f\u7528\u7684\u7ec4\u4ef6\u4e88\u4ee5\u6dd8\u6c70\u3002")),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'export default {\n  name: "keep-alive",\n  abstract: true, //\u62bd\u8c61\u7ec4\u4ef6\n\n  props: {\n    include: patternTypes, //\u8981\u7f13\u5b58\u7684\u7ec4\u4ef6\n    exclude: patternTypes, //\u8981\u6392\u9664\u7684\u7ec4\u4ef6\n    max: [String, Number], //\u6700\u5927\u7f13\u5b58\u6570\n  },\n\n  created() {\n    this.cache = Object.create(null); //\u7f13\u5b58\u5bf9\u8c61  {a:vNode,b:vNode}\n    this.keys = []; //\u7f13\u5b58\u7ec4\u4ef6\u7684key\u96c6\u5408 [a,b]\n  },\n\n  destroyed() {\n    for (const key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted() {\n    //\u52a8\u6001\u76d1\u542cinclude  exclude\n    this.$watch("include", (val) => {\n      pruneCache(this, (name) => matches(val, name));\n    });\n    this.$watch("exclude", (val) => {\n      pruneCache(this, (name) => !matches(val, name));\n    });\n  },\n\n  render() {\n    const slot = this.$slots.default; //\u83b7\u53d6\u5305\u88f9\u7684\u63d2\u69fd\u9ed8\u8ba4\u503c\n    const vnode: VNode = getFirstComponentChild(slot); //\u83b7\u53d6\u7b2c\u4e00\u4e2a\u5b50\u7ec4\u4ef6\n    const componentOptions: ?VNodeComponentOptions =\n      vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      const name: ?string = getComponentName(componentOptions);\n      const { include, exclude } = this;\n      // \u4e0d\u8d70\u7f13\u5b58\n      if (\n        // not included  \u4e0d\u5305\u542b\n        (include && (!name || !matches(include, name))) ||\n        // excluded  \u6392\u9664\u91cc\u9762\n        (exclude && name && matches(exclude, name))\n      ) {\n        //\u8fd4\u56de\u865a\u62df\u8282\u70b9\n        return vnode;\n      }\n\n      const { cache, keys } = this;\n      const key: ?string =\n        vnode.key == null\n          ? // same constructor may get registered as different local components\n            // so cid alone is not enough (#3269)\n            componentOptions.Ctor.cid +\n            (componentOptions.tag ? `::${componentOptions.tag}` : "")\n          : vnode.key;\n      if (cache[key]) {\n        //\u901a\u8fc7key \u627e\u5230\u7f13\u5b58 \u83b7\u53d6\u5b9e\u4f8b\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key); //\u901a\u8fc7LRU\u7b97\u6cd5\u628a\u6570\u7ec4\u91cc\u9762\u7684key\u5220\u6389\n        keys.push(key); //\u628a\u5b83\u653e\u5728\u6570\u7ec4\u672b\u5c3e\n      } else {\n        cache[key] = vnode; //\u6ca1\u627e\u5230\u5c31\u6362\u5b58\u4e0b\u6765\n        keys.push(key); //\u628a\u5b83\u653e\u5728\u6570\u7ec4\u672b\u5c3e\n        // prune oldest entry  //\u5982\u679c\u8d85\u8fc7\u6700\u5927\u503c\u5c31\u628a\u6570\u7ec4\u7b2c0\u9879\u5220\u6389\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true; //\u6807\u8bb0\u865a\u62df\u8282\u70b9\u5df2\u7ecf\u88ab\u7f13\u5b58\n    }\n    // \u8fd4\u56de\u865a\u62df\u8282\u70b9\n    return vnode || (slot && slot[0]);\n  },\n}; \n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6269\u5c55\u8865\u5145\uff1aLRU \u7b97\u6cd5\u662f\u4ec0\u4e48\uff1f")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://filescdn.proginn.com/679f9b2736e5f50f01c23bef7c6eac23/57da3650ef83a83c859f186e7c00d5a0.webp",alt:"img"}),"lrusuanfa.png"),(0,a.kt)("p",null,"LRU \u7684\u6838\u5fc3\u601d\u60f3\u662f\u5982\u679c\u6570\u636e\u6700\u8fd1\u88ab\u8bbf\u95ee\u8fc7\uff0c\u90a3\u4e48\u5c06\u6765\u88ab\u8bbf\u95ee\u7684\u51e0\u7387\u4e5f\u66f4\u9ad8\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u547d\u4e2d\u7f13\u5b58\u7684\u7ec4\u4ef6 key \u91cd\u65b0\u63d2\u5165\u5230 this.keys  \u7684\u5c3e\u90e8\uff0c\u8fd9\u6837\u4e00\u6765\uff0cthis.keys \u4e2d\u8d8a\u5f80\u5934\u90e8\u7684\u6570\u636e\u5373\u5c06\u6765\u88ab\u8bbf\u95ee\u51e0\u7387\u8d8a\u4f4e\uff0c\u6240\u4ee5\u5f53\u7f13\u5b58\u6570\u91cf\u8fbe\u5230\u6700\u5927\u503c\u65f6\uff0c\u6211\u4eec\u5c31\u5220\u9664\u5c06\u6765\u88ab\u8bbf\u95ee\u51e0\u7387\u6700\u4f4e\u7684\u6570\u636e\uff0c\u5373  this.keys \u4e2d\u7b2c\u4e00\u4e2a\u7f13\u5b58\u7684\u7ec4\u4ef6\u3002"),(0,a.kt)("h4",{id:"30-vueset-\u65b9\u6cd5\u539f\u7406"},"30 Vue.set \u65b9\u6cd5\u539f\u7406"),(0,a.kt)("p",null,"\u4e86\u89e3 Vue \u54cd\u5e94\u5f0f\u539f\u7406\u7684\u540c\u5b66\u90fd\u77e5\u9053\u5728\u4e24\u79cd\u60c5\u51b5\u4e0b\u4fee\u6539\u6570\u636e Vue \u662f\u4e0d\u4f1a\u89e6\u53d1\u89c6\u56fe\u66f4\u65b0\u7684"),(0,a.kt)("p",null,"1.\u5728\u5b9e\u4f8b\u521b\u5efa\u4e4b\u540e\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u5230\u5b9e\u4f8b\u4e0a\uff08\u7ed9\u54cd\u5e94\u5f0f\u5bf9\u8c61\u65b0\u589e\u5c5e\u6027\uff09"),(0,a.kt)("p",null,"2.\u76f4\u63a5\u66f4\u6539\u6570\u7ec4\u4e0b\u6807\u6765\u4fee\u6539\u6570\u7ec4\u7684\u503c"),(0,a.kt)("p",null,"Vue.set \u6216\u8005\u8bf4\u662f$set \u539f\u7406\u5982\u4e0b"),(0,a.kt)("p",null,"\u56e0\u4e3a\u54cd\u5e94\u5f0f\u6570\u636e \u6211\u4eec\u7ed9\u5bf9\u8c61\u548c\u6570\u7ec4\u672c\u8eab\u90fd\u589e\u52a0\u4e86",(0,a.kt)("strong",{parentName:"p"},"ob"),"\u5c5e\u6027\uff0c\u4ee3\u8868\u7684\u662f Observer \u5b9e\u4f8b\u3002\u5f53\u7ed9\u5bf9\u8c61\u65b0\u589e\u4e0d\u5b58\u5728\u7684\u5c5e\u6027 \u9996\u5148\u4f1a\u628a\u65b0\u7684\u5c5e\u6027\u8fdb\u884c\u54cd\u5e94\u5f0f\u8ddf\u8e2a  \u7136\u540e\u4f1a\u89e6\u53d1\u5bf9\u8c61",(0,a.kt)("strong",{parentName:"p"},"ob"),"\u7684 dep \u6536\u96c6\u5230\u7684 watcher \u53bb\u66f4\u65b0\uff0c\u5f53\u4fee\u6539\u6570\u7ec4\u7d22\u5f15\u65f6\u6211\u4eec\u8c03\u7528\u6570\u7ec4\u672c\u8eab\u7684 splice \u65b9\u6cd5\u53bb\u66f4\u65b0\u6570\u7ec4"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"export function set(target: Array | Object, key: any, val: any): any {\n  // \u5982\u679c\u662f\u6570\u7ec4 \u8c03\u7528\u6211\u4eec\u91cd\u5199\u7684splice\u65b9\u6cd5 (\u8fd9\u6837\u53ef\u4ee5\u66f4\u65b0\u89c6\u56fe)\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val;\n  }\n  // \u5982\u679c\u662f\u5bf9\u8c61\u672c\u8eab\u7684\u5c5e\u6027\uff0c\u5219\u76f4\u63a5\u6dfb\u52a0\u5373\u53ef\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val;\n  }\n  const ob = (target: any).__ob__;\n\n  // \u5982\u679c\u4e0d\u662f\u54cd\u5e94\u5f0f\u7684\u4e5f\u4e0d\u9700\u8981\u5c06\u5176\u5b9a\u4e49\u6210\u54cd\u5e94\u5f0f\u5c5e\u6027\n  if (!ob) {\n    target[key] = val;\n    return val;\n  }\n  // \u5c06\u5c5e\u6027\u5b9a\u4e49\u6210\u54cd\u5e94\u5f0f\u7684\n  defineReactive(ob.value, key, val);\n  // \u901a\u77e5\u89c6\u56fe\u66f4\u65b0\n  ob.dep.notify();\n  return val;\n} \n")),(0,a.kt)("p",null,"\u54cd\u5e94\u5f0f\u6570\u636e\u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"31-vueextend-\u4f5c\u7528\u548c\u539f\u7406"},"31 Vue.extend \u4f5c\u7528\u548c\u539f\u7406"),(0,a.kt)("p",null,"\u5b98\u65b9\u89e3\u91ca\uff1aVue.extend \u4f7f\u7528\u57fa\u7840 Vue \u6784\u9020\u5668\uff0c\u521b\u5efa\u4e00\u4e2a\u201c\u5b50\u7c7b\u201d\u3002\u53c2\u6570\u662f\u4e00\u4e2a\u5305\u542b\u7ec4\u4ef6\u9009\u9879\u7684\u5bf9\u8c61\u3002"),(0,a.kt)("p",null,"\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5b50\u7c7b\u6784\u9020\u5668 \u662f Vue \u7ec4\u4ef6\u7684\u6838\u5fc3 api \u5b9e\u73b0\u601d\u8def\u5c31\u662f\u4f7f\u7528\u539f\u578b\u7ee7\u627f\u7684\u65b9\u6cd5\u8fd4\u56de\u4e86 Vue \u7684\u5b50\u7c7b \u5e76\u4e14\u5229\u7528 mergeOptions \u628a\u4f20\u5165\u7ec4\u4ef6\u7684 options \u548c\u7236\u7c7b\u7684 options \u8fdb\u884c\u4e86\u5408\u5e76"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"export default function initExtend(Vue) {\n  let cid = 0; //\u7ec4\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\n  // \u521b\u5efa\u5b50\u7c7b\u7ee7\u627fVue\u7236\u7c7b \u4fbf\u4e8e\u5c5e\u6027\u6269\u5c55\n  Vue.extend = function (extendOptions) {\n    // \u521b\u5efa\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570 \u5e76\u4e14\u8c03\u7528\u521d\u59cb\u5316\u65b9\u6cd5\n    const Sub = function VueComponent(options) {\n      this._init(options); //\u8c03\u7528Vue\u521d\u59cb\u5316\u65b9\u6cd5\n    };\n    Sub.cid = cid++;\n    Sub.prototype = Object.create(this.prototype); // \u5b50\u7c7b\u539f\u578b\u6307\u5411\u7236\u7c7b\n    Sub.prototype.constructor = Sub; //constructor\u6307\u5411\u81ea\u5df1\n    Sub.options = mergeOptions(this.options, extendOptions); //\u5408\u5e76\u81ea\u5df1\u7684options\u548c\u7236\u7c7b\u7684options\n    return Sub;\n  };\n} \n")),(0,a.kt)("p",null,"Vue \u7ec4\u4ef6\u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"32-\u5199\u8fc7\u81ea\u5b9a\u4e49\u6307\u4ee4\u5417-\u539f\u7406\u662f\u4ec0\u4e48"},"32 \u5199\u8fc7\u81ea\u5b9a\u4e49\u6307\u4ee4\u5417 \u539f\u7406\u662f\u4ec0\u4e48"),(0,a.kt)("p",null,"\u6307\u4ee4\u672c\u8d28\u4e0a\u662f\u88c5\u9970\u5668\uff0c\u662f vue \u5bf9 HTML \u5143\u7d20\u7684\u6269\u5c55\uff0c\u7ed9 HTML \u5143\u7d20\u589e\u52a0\u81ea\u5b9a\u4e49\u529f\u80fd\u3002vue \u7f16\u8bd1 DOM \u65f6\uff0c\u4f1a\u627e\u5230\u6307\u4ee4\u5bf9\u8c61\uff0c\u6267\u884c\u6307\u4ee4\u7684\u76f8\u5173\u65b9\u6cd5\u3002"),(0,a.kt)("p",null,"\u81ea\u5b9a\u4e49\u6307\u4ee4\u6709\u4e94\u4e2a\u751f\u547d\u5468\u671f\uff08\u4e5f\u53eb\u94a9\u5b50\u51fd\u6570\uff09\uff0c\u5206\u522b\u662f bind\u3001inserted\u3001update\u3001componentUpdated\u3001unbind"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1. bind\uff1a\u53ea\u8c03\u7528\u4e00\u6b21\uff0c\u6307\u4ee4\u7b2c\u4e00\u6b21\u7ed1\u5b9a\u5230\u5143\u7d20\u65f6\u8c03\u7528\u3002\u5728\u8fd9\u91cc\u53ef\u4ee5\u8fdb\u884c\u4e00\u6b21\u6027\u7684\u521d\u59cb\u5316\u8bbe\u7f6e\u3002\n\n2. inserted\uff1a\u88ab\u7ed1\u5b9a\u5143\u7d20\u63d2\u5165\u7236\u8282\u70b9\u65f6\u8c03\u7528 (\u4ec5\u4fdd\u8bc1\u7236\u8282\u70b9\u5b58\u5728\uff0c\u4f46\u4e0d\u4e00\u5b9a\u5df2\u88ab\u63d2\u5165\u6587\u6863\u4e2d)\u3002\n\n3. update\uff1a\u88ab\u7ed1\u5b9a\u4e8e\u5143\u7d20\u6240\u5728\u7684\u6a21\u677f\u66f4\u65b0\u65f6\u8c03\u7528\uff0c\u800c\u65e0\u8bba\u7ed1\u5b9a\u503c\u662f\u5426\u53d8\u5316\u3002\u901a\u8fc7\u6bd4\u8f83\u66f4\u65b0\u524d\u540e\u7684\u7ed1\u5b9a\u503c\uff0c\u53ef\u4ee5\u5ffd\u7565\u4e0d\u5fc5\u8981\u7684\u6a21\u677f\u66f4\u65b0\u3002\n\n4. componentUpdated\uff1a\u88ab\u7ed1\u5b9a\u5143\u7d20\u6240\u5728\u6a21\u677f\u5b8c\u6210\u4e00\u6b21\u66f4\u65b0\u5468\u671f\u65f6\u8c03\u7528\u3002\n\n5. unbind\uff1a\u53ea\u8c03\u7528\u4e00\u6b21\uff0c\u6307\u4ee4\u4e0e\u5143\u7d20\u89e3\u7ed1\u65f6\u8c03\u7528\u3002 \n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u539f\u7406")),(0,a.kt)("p",null,"1.\u5728\u751f\u6210 ast \u8bed\u6cd5\u6811\u65f6\uff0c\u9047\u5230\u6307\u4ee4\u4f1a\u7ed9\u5f53\u524d\u5143\u7d20\u6dfb\u52a0 directives \u5c5e\u6027"),(0,a.kt)("p",null,"2.\u901a\u8fc7 genDirectives \u751f\u6210\u6307\u4ee4\u4ee3\u7801"),(0,a.kt)("p",null,"3.\u5728 patch \u524d\u5c06\u6307\u4ee4\u7684\u94a9\u5b50\u63d0\u53d6\u5230 cbs \u4e2d,\u5728 patch \u8fc7\u7a0b\u4e2d\u8c03\u7528\u5bf9\u5e94\u7684\u94a9\u5b50"),(0,a.kt)("p",null,"4.\u5f53\u6267\u884c\u6307\u4ee4\u5bf9\u5e94\u94a9\u5b50\u51fd\u6570\u65f6\uff0c\u8c03\u7528\u5bf9\u5e94\u6307\u4ee4\u5b9a\u4e49\u7684\u65b9\u6cd5"),(0,a.kt)("h4",{id:"33-vue-\u4fee\u9970\u7b26\u6709\u54ea\u4e9b"},"33 Vue \u4fee\u9970\u7b26\u6709\u54ea\u4e9b"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u4e8b\u4ef6\u4fee\u9970\u7b26")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},".stop \u963b\u6b62\u4e8b\u4ef6\u7ee7\u7eed\u4f20\u64ad"),(0,a.kt)("li",{parentName:"ul"},".prevent \u963b\u6b62\u6807\u7b7e\u9ed8\u8ba4\u884c\u4e3a"),(0,a.kt)("li",{parentName:"ul"},".capture \u4f7f\u7528\u4e8b\u4ef6\u6355\u83b7\u6a21\u5f0f,\u5373\u5143\u7d20\u81ea\u8eab\u89e6\u53d1\u7684\u4e8b\u4ef6\u5148\u5728\u6b64\u5904\u5904\u7406\uff0c\u7136\u540e\u624d\u4ea4\u7531\u5185\u90e8\u5143\u7d20\u8fdb\u884c\u5904\u7406"),(0,a.kt)("li",{parentName:"ul"},".self \u53ea\u5f53\u5728 event.target \u662f\u5f53\u524d\u5143\u7d20\u81ea\u8eab\u65f6\u89e6\u53d1\u5904\u7406\u51fd\u6570"),(0,a.kt)("li",{parentName:"ul"},".once \u4e8b\u4ef6\u5c06\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21"),(0,a.kt)("li",{parentName:"ul"},".passive \u544a\u8bc9\u6d4f\u89c8\u5668\u4f60\u4e0d\u60f3\u963b\u6b62\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"v-model \u7684\u4fee\u9970\u7b26")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},".lazy \u901a\u8fc7\u8fd9\u4e2a\u4fee\u9970\u7b26\uff0c\u8f6c\u53d8\u4e3a\u5728 change \u4e8b\u4ef6\u518d\u540c\u6b65"),(0,a.kt)("li",{parentName:"ul"},".number \u81ea\u52a8\u5c06\u7528\u6237\u7684\u8f93\u5165\u503c\u8f6c\u5316\u4e3a\u6570\u503c\u7c7b\u578b"),(0,a.kt)("li",{parentName:"ul"},".trim \u81ea\u52a8\u8fc7\u6ee4\u7528\u6237\u8f93\u5165\u7684\u9996\u5c3e\u7a7a\u683c")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u952e\u76d8\u4e8b\u4ef6\u7684\u4fee\u9970\u7b26")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},".enter"),(0,a.kt)("li",{parentName:"ul"},".tab"),(0,a.kt)("li",{parentName:"ul"},".delete (\u6355\u83b7\u201c\u5220\u9664\u201d\u548c\u201c\u9000\u683c\u201d\u952e)"),(0,a.kt)("li",{parentName:"ul"},".esc"),(0,a.kt)("li",{parentName:"ul"},".space"),(0,a.kt)("li",{parentName:"ul"},".up"),(0,a.kt)("li",{parentName:"ul"},".down"),(0,a.kt)("li",{parentName:"ul"},".left"),(0,a.kt)("li",{parentName:"ul"},".right")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7cfb\u7edf\u4fee\u9970\u952e")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},".ctrl"),(0,a.kt)("li",{parentName:"ul"},".alt"),(0,a.kt)("li",{parentName:"ul"},".shift"),(0,a.kt)("li",{parentName:"ul"},".meta")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u9f20\u6807\u6309\u94ae\u4fee\u9970\u7b26")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},".left"),(0,a.kt)("li",{parentName:"ul"},".right"),(0,a.kt)("li",{parentName:"ul"},".middle")),(0,a.kt)("h4",{id:"34-vue-\u6a21\u677f\u7f16\u8bd1\u539f\u7406"},"34 Vue \u6a21\u677f\u7f16\u8bd1\u539f\u7406"),(0,a.kt)("p",null,"Vue \u7684\u7f16\u8bd1\u8fc7\u7a0b\u5c31\u662f\u5c06 template \u8f6c\u5316\u4e3a render \u51fd\u6570\u7684\u8fc7\u7a0b \u5206\u4e3a\u4ee5\u4e0b\u4e09\u6b65"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u7b2c\u4e00\u6b65\u662f\u5c06 \u6a21\u677f\u5b57\u7b26\u4e32 \u8f6c\u6362\u6210 element ASTs\uff08\u89e3\u6790\u5668\uff09\n\u7b2c\u4e8c\u6b65\u662f\u5bf9 AST \u8fdb\u884c\u9759\u6001\u8282\u70b9\u6807\u8bb0\uff0c\u4e3b\u8981\u7528\u6765\u505a\u865a\u62dfDOM\u7684\u6e32\u67d3\u4f18\u5316\uff08\u4f18\u5316\u5668\uff09\n\u7b2c\u4e09\u6b65\u662f \u4f7f\u7528 element ASTs \u751f\u6210 render \u51fd\u6570\u4ee3\u7801\u5b57\u7b26\u4e32\uff08\u4ee3\u7801\u751f\u6210\u5668\uff09 \n")),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"export function compileToFunctions(template) {\n  // \u6211\u4eec\u9700\u8981\u628ahtml\u5b57\u7b26\u4e32\u53d8\u6210render\u51fd\u6570\n  // 1.\u628ahtml\u4ee3\u7801\u8f6c\u6210ast\u8bed\u6cd5\u6811  ast\u7528\u6765\u63cf\u8ff0\u4ee3\u7801\u672c\u8eab\u5f62\u6210\u6811\u7ed3\u6784 \u4e0d\u4ec5\u53ef\u4ee5\u63cf\u8ff0html \u4e5f\u80fd\u63cf\u8ff0css\u4ee5\u53cajs\u8bed\u6cd5\n  // \u5f88\u591a\u5e93\u90fd\u8fd0\u7528\u5230\u4e86ast \u6bd4\u5982 webpack babel eslint\u7b49\u7b49\n  let ast = parse(template);\n  // 2.\u4f18\u5316\u9759\u6001\u8282\u70b9\n  // \u8fd9\u4e2a\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u53bb\u770b\u6e90\u7801  \u4e0d\u5f71\u54cd\u6838\u5fc3\u529f\u80fd\u5c31\u4e0d\u5b9e\u73b0\u4e86\n  //   if (options.optimize !== false) {\n  //     optimize(ast, options);\n  //   }\n\n  // 3.\u901a\u8fc7ast \u91cd\u65b0\u751f\u6210\u4ee3\u7801\n  // \u6211\u4eec\u6700\u540e\u751f\u6210\u7684\u4ee3\u7801\u9700\u8981\u548crender\u51fd\u6570\u4e00\u6837\n  // \u7c7b\u4f3c_c('div',{id:\"app\"},_c('div',undefined,_v(\"hello\"+_s(name)),_c('span',undefined,_v(\"world\"))))\n  // _c\u4ee3\u8868\u521b\u5efa\u5143\u7d20 _v\u4ee3\u8868\u521b\u5efa\u6587\u672c _s\u4ee3\u8868\u6587Json.stringify--\u628a\u5bf9\u8c61\u89e3\u6790\u6210\u6587\u672c\n  let code = generate(ast);\n  //   \u4f7f\u7528with\u8bed\u6cd5\u6539\u53d8\u4f5c\u7528\u57df\u4e3athis  \u4e4b\u540e\u8c03\u7528render\u51fd\u6570\u53ef\u4ee5\u4f7f\u7528call\u6539\u53d8this \u65b9\u4fbfcode\u91cc\u9762\u7684\u53d8\u91cf\u53d6\u503c\n  let renderFn = new Function(`with(this){return ${code}}`);\n  return renderFn;\n} \n")),(0,a.kt)("p",null,"\u6a21\u677f\u7f16\u8bd1\u539f\u7406\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"35-\u751f\u547d\u5468\u671f\u94a9\u5b50\u662f\u5982\u4f55\u5b9e\u73b0\u7684"},"35 \u751f\u547d\u5468\u671f\u94a9\u5b50\u662f\u5982\u4f55\u5b9e\u73b0\u7684"),(0,a.kt)("p",null,"Vue \u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u6838\u5fc3\u5b9e\u73b0\u662f\u5229\u7528\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u5148\u628a\u7528\u6237\u4f20\u5165\u7684\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u8ba2\u9605\u597d\uff08\u5185\u90e8\u91c7\u7528\u6570\u7ec4\u7684\u65b9\u5f0f\u5b58\u50a8\uff09\u7136\u540e\u5728\u521b\u5efa\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u4e00\u6b21\u6267\u884c\u5bf9\u5e94\u7684\u94a9\u5b50\u65b9\u6cd5\uff08\u53d1\u5e03\uff09"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'export function callHook(vm, hook) {\n  // \u4f9d\u6b21\u6267\u884c\u751f\u547d\u5468\u671f\u5bf9\u5e94\u7684\u65b9\u6cd5\n  const handlers = vm.$options[hook];\n  if (handlers) {\n    for (let i = 0; i < handlers.length; i++) {\n      handlers[i].call(vm); //\u751f\u547d\u5468\u671f\u91cc\u9762\u7684this\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\n    }\n  }\n}\n\n// \u8c03\u7528\u7684\u65f6\u5019\nVue.prototype._init = function (options) {\n  const vm = this;\n  vm.$options = mergeOptions(vm.constructor.options, options);\n  callHook(vm, "beforeCreate"); //\u521d\u59cb\u5316\u6570\u636e\u4e4b\u524d\n  // \u521d\u59cb\u5316\u72b6\u6001\n  initState(vm);\n  callHook(vm, "created"); //\u521d\u59cb\u5316\u6570\u636e\u4e4b\u540e\n  if (vm.$options.el) {\n    vm.$mount(vm.$options.el);\n  }\n}; \n')),(0,a.kt)("p",null,"\u751f\u547d\u5468\u671f\u5b9e\u73b0\u8be6\u89e3 \u4f20\u9001\u95e8"),(0,a.kt)("h4",{id:"36-\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"},"36 \u51fd\u6570\u5f0f\u7ec4\u4ef6\u4f7f\u7528\u573a\u666f\u548c\u539f\u7406"),(0,a.kt)("p",null,"\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0e\u666e\u901a\u7ec4\u4ef6\u7684\u533a\u522b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1.\u51fd\u6570\u5f0f\u7ec4\u4ef6\u9700\u8981\u5728\u58f0\u660e\u7ec4\u4ef6\u662f\u6307\u5b9a functional:true\n2.\u4e0d\u9700\u8981\u5b9e\u4f8b\u5316\uff0c\u6240\u4ee5\u6ca1\u6709this,this\u901a\u8fc7render\u51fd\u6570\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570context\u6765\u4ee3\u66ff\n3.\u6ca1\u6709\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\uff0c\u4e0d\u80fd\u4f7f\u7528\u8ba1\u7b97\u5c5e\u6027\uff0cwatch\n4.\u4e0d\u80fd\u901a\u8fc7$emit \u5bf9\u5916\u66b4\u9732\u4e8b\u4ef6\uff0c\u8c03\u7528\u4e8b\u4ef6\u53ea\u80fd\u901a\u8fc7context.listeners.click\u7684\u65b9\u5f0f\u8c03\u7528\u5916\u90e8\u4f20\u5165\u7684\u4e8b\u4ef6\n5.\u56e0\u4e3a\u51fd\u6570\u5f0f\u7ec4\u4ef6\u662f\u6ca1\u6709\u5b9e\u4f8b\u5316\u7684\uff0c\u6240\u4ee5\u5728\u5916\u90e8\u901a\u8fc7ref\u53bb\u5f15\u7528\u7ec4\u4ef6\u65f6\uff0c\u5b9e\u9645\u5f15\u7528\u7684\u662fHTMLElement\n6.\u51fd\u6570\u5f0f\u7ec4\u4ef6\u7684props\u53ef\u4ee5\u4e0d\u7528\u663e\u793a\u58f0\u660e\uff0c\u6240\u4ee5\u6ca1\u6709\u5728props\u91cc\u9762\u58f0\u660e\u7684\u5c5e\u6027\u90fd\u4f1a\u88ab\u81ea\u52a8\u9690\u5f0f\u89e3\u6790\u4e3aprop,\u800c\u666e\u901a\u7ec4\u4ef6\u6240\u6709\u672a\u58f0\u660e\u7684\u5c5e\u6027\u90fd\u89e3\u6790\u5230$attrs\u91cc\u9762\uff0c\u5e76\u81ea\u52a8\u6302\u8f7d\u5230\u7ec4\u4ef6\u6839\u5143\u7d20\u4e0a\u9762(\u53ef\u4ee5\u901a\u8fc7inheritAttrs\u5c5e\u6027\u7981\u6b62) \n")),(0,a.kt)("p",null,"\u4f18\u70b9 1.\u7531\u4e8e\u51fd\u6570\u5f0f\u7ec4\u4ef6\u4e0d\u9700\u8981\u5b9e\u4f8b\u5316\uff0c\u65e0\u72b6\u6001\uff0c\u6ca1\u6709\u751f\u547d\u5468\u671f\uff0c\u6240\u4ee5\u6e32\u67d3\u6027\u80fd\u8981\u597d\u4e8e\u666e\u901a\u7ec4\u4ef6 2.\u51fd\u6570\u5f0f\u7ec4\u4ef6\u7ed3\u6784\u6bd4\u8f83\u7b80\u5355\uff0c\u4ee3\u7801\u7ed3\u6784\u66f4\u6e05\u6670"),(0,a.kt)("p",null,"\u4f7f\u7528\u573a\u666f\uff1a"),(0,a.kt)("p",null,"\u4e00\u4e2a\u7b80\u5355\u7684\u5c55\u793a\u7ec4\u4ef6\uff0c\u4f5c\u4e3a\u5bb9\u5668\u7ec4\u4ef6\u4f7f\u7528 \u6bd4\u5982 router-view \u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u5f0f\u7ec4\u4ef6"),(0,a.kt)("p",null,"\u201c\u9ad8\u9636\u7ec4\u4ef6\u201d\u2014\u2014\u7528\u4e8e\u63a5\u6536\u4e00\u4e2a\u7ec4\u4ef6\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u88ab\u5305\u88c5\u8fc7\u7684\u7ec4\u4ef6"),(0,a.kt)("p",null,"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"if (isTrue(Ctor.options.functional)) {\n  // \u5e26\u6709functional\u7684\u5c5e\u6027\u7684\u5c31\u662f\u51fd\u6570\u5f0f\u7ec4\u4ef6\n  return createFunctionalComponent(Ctor, propsData, data, context, children);\n}\nconst listeners = data.on;\ndata.on = data.nativeOn;\ninstallComponentHooks(data); // \u5b89\u88c5\u7ec4\u4ef6\u76f8\u5173\u94a9\u5b50 \uff08\u51fd\u6570\u5f0f\u7ec4\u4ef6\u6ca1\u6709\u8c03\u7528\u6b64\u65b9\u6cd5\uff0c\u4ece\u800c\u6027\u80fd\u9ad8\u4e8e\u666e\u901a\u7ec4\u4ef6\uff09 \n")),(0,a.kt)("h4",{id:"37-\u80fd\u8bf4\u4e0b-vue-router-\u4e2d\u5e38\u7528\u7684\u8def\u7531\u6a21\u5f0f\u5b9e\u73b0\u539f\u7406\u5417"},"37 \u80fd\u8bf4\u4e0b vue-router \u4e2d\u5e38\u7528\u7684\u8def\u7531\u6a21\u5f0f\u5b9e\u73b0\u539f\u7406\u5417"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"hash \u6a21\u5f0f")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"location.hash \u7684\u503c\u5b9e\u9645\u5c31\u662f URL \u4e2d#\u540e\u9762\u7684\u4e1c\u897f \u5b83\u7684\u7279\u70b9\u5728\u4e8e\uff1ahash \u867d\u7136\u51fa\u73b0 URL \u4e2d\uff0c\u4f46\u4e0d\u4f1a\u88ab\u5305\u542b\u5728 HTTP \u8bf7\u6c42\u4e2d\uff0c\u5bf9\u540e\u7aef\u5b8c\u5168\u6ca1\u6709\u5f71\u54cd\uff0c\u56e0\u6b64\u6539\u53d8 hash \u4e0d\u4f1a\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u3002"),(0,a.kt)("li",{parentName:"ol"},"\u53ef\u4ee5\u4e3a hash \u7684\u6539\u53d8\u6dfb\u52a0\u76d1\u542c\u4e8b\u4ef6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'window.addEventListener("hashchange", funcRef, false); \n')),(0,a.kt)("p",null,"\u6bcf\u4e00\u6b21\u6539\u53d8 hash\uff08window.location.hash\uff09\uff0c\u90fd\u4f1a\u5728\u6d4f\u89c8\u5668\u7684\u8bbf\u95ee\u5386\u53f2\u4e2d\u589e\u52a0\u4e00\u4e2a\u8bb0\u5f55\u5229\u7528 hash \u7684\u4ee5\u4e0a\u7279\u70b9\uff0c\u5c31\u53ef\u4ee5\u6765\u5b9e\u73b0\u524d\u7aef\u8def\u7531\u201c\u66f4\u65b0\u89c6\u56fe\u4f46\u4e0d\u91cd\u65b0\u8bf7\u6c42\u9875\u9762\u201d\u7684\u529f\u80fd\u4e86"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u7279\u70b9\uff1a\u517c\u5bb9\u6027\u597d\u4f46\u662f\u4e0d\u7f8e\u89c2")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"history \u6a21\u5f0f")),(0,a.kt)("p",null,"\u5229\u7528\u4e86 HTML5 History Interface \u4e2d\u65b0\u589e\u7684 pushState() \u548c replaceState() \u65b9\u6cd5\u3002"),(0,a.kt)("p",null,"\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u5e94\u7528\u4e8e\u6d4f\u89c8\u5668\u7684\u5386\u53f2\u8bb0\u5f55\u7ad9\uff0c\u5728\u5f53\u524d\u5df2\u6709\u7684 back\u3001forward\u3001go  \u7684\u57fa\u7840\u4e4b\u4e0a\uff0c\u5b83\u4eec\u63d0\u4f9b\u4e86\u5bf9\u5386\u53f2\u8bb0\u5f55\u8fdb\u884c\u4fee\u6539\u7684\u529f\u80fd\u3002\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u6709\u4e2a\u5171\u540c\u7684\u7279\u70b9\uff1a\u5f53\u8c03\u7528\u4ed6\u4eec\u4fee\u6539\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u6808\u540e\uff0c\u867d\u7136\u5f53\u524d URL  \u6539\u53d8\u4e86\uff0c\u4f46\u6d4f\u89c8\u5668\u4e0d\u4f1a\u5237\u65b0\u9875\u9762\uff0c\u8fd9\u5c31\u4e3a\u5355\u9875\u5e94\u7528\u524d\u7aef\u8def\u7531\u201c\u66f4\u65b0\u89c6\u56fe\u4f46\u4e0d\u91cd\u65b0\u8bf7\u6c42\u9875\u9762\u201d\u63d0\u4f9b\u4e86\u57fa\u7840\u3002"),(0,a.kt)("p",null,"\u7279\u70b9\uff1a\u867d\u7136\u7f8e\u89c2\uff0c\u4f46\u662f\u5237\u65b0\u4f1a\u51fa\u73b0 404 \u9700\u8981\u540e\u7aef\u8fdb\u884c\u914d\u7f6e"),(0,a.kt)("h4",{id:"\u624b\u5199-vueextend-\u5b9e\u73b0"},"\u624b\u5199 Vue.extend \u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'//  src/global-api/initExtend.js\nimport { mergeOptions } from "../util/index";\nexport default function initExtend(Vue) {\n  let cid = 0; //\u7ec4\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\n  // \u521b\u5efa\u5b50\u7c7b\u7ee7\u627fVue\u7236\u7c7b \u4fbf\u4e8e\u5c5e\u6027\u6269\u5c55\n  Vue.extend = function (extendOptions) {\n    // \u521b\u5efa\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570 \u5e76\u4e14\u8c03\u7528\u521d\u59cb\u5316\u65b9\u6cd5\n    const Sub = function VueComponent(options) {\n      this._init(options); //\u8c03\u7528Vue\u521d\u59cb\u5316\u65b9\u6cd5\n    };\n    Sub.cid = cid++;\n    Sub.prototype = Object.create(this.prototype); // \u5b50\u7c7b\u539f\u578b\u6307\u5411\u7236\u7c7b\n    Sub.prototype.constructor = Sub; //constructor\u6307\u5411\u81ea\u5df1\n    Sub.options = mergeOptions(this.options, extendOptions); //\u5408\u5e76\u81ea\u5df1\u7684options\u548c\u7236\u7c7b\u7684options\n    return Sub;\n  };\n}\n\u590d\u5236\u4ee3\u7801\n')),(0,a.kt)("p",null,"\u5177\u4f53\u53ef\u4ee5\u770b\u770b\u8fd9\u7bc7 ",(0,a.kt)("a",{parentName:"p",href:"https://juejin.cn/post/6954173708344770591"},"\u624b\u5199 Vue2.0 \u6e90\u7801\uff08\u516b\uff09-\u7ec4\u4ef6\u539f\u7406")),(0,a.kt)("h4",{id:"vue-router-\u4e2d\u8def\u7531\u65b9\u6cd5-pushstate-\u548c-replacestate-\u80fd\u5426\u89e6\u53d1-popsate-\u4e8b\u4ef6"},"vue-router \u4e2d\u8def\u7531\u65b9\u6cd5 pushState \u548c replaceState \u80fd\u5426\u89e6\u53d1 popSate \u4e8b\u4ef6"),(0,a.kt)("p",null,"\u7b54\u6848\u662f\uff1a",(0,a.kt)("strong",{parentName:"p"},"\u4e0d\u80fd")),(0,a.kt)("p",null,"pushState \u548c replaceState"),(0,a.kt)("p",null,"HTML5 \u65b0\u63a5\u53e3\uff0c\u53ef\u4ee5\u6539\u53d8\u7f51\u5740(\u5b58\u5728\u8de8\u57df\u9650\u5236)\u800c\u4e0d\u5237\u65b0\u9875\u9762\uff0c\u8fd9\u4e2a\u5f3a\u5927\u7684\u7279\u6027\u540e\u6765\u7528\u5230\u4e86\u5355\u9875\u9762\u5e94\u7528\u5982\uff1avue-router\uff0creact-router-dom \u4e2d\u3002"),(0,a.kt)("p",null,"\u6ce8\u610f:\u4ec5\u6539\u53d8\u7f51\u5740,\u7f51\u9875\u4e0d\u4f1a\u771f\u7684\u8df3\u8f6c,\u4e5f\u4e0d\u4f1a\u83b7\u53d6\u5230\u65b0\u7684\u5185\u5bb9,\u672c\u8d28\u4e0a\u7f51\u9875\u8fd8\u505c\u7559\u5728\u539f\u9875\u9762"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"window.history.pushState(state, title, targetURL);\n@\u72b6\u6001\u5bf9\u8c61\uff1a\u4f20\u7ed9\u76ee\u6807\u8def\u7531\u7684\u4fe1\u606f,\u53ef\u4e3a\u7a7a\n@\u9875\u9762\u6807\u9898\uff1a\u76ee\u524d\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u4e0d\u652f\u6301,\u586b\u7a7a\u5b57\u7b26\u4e32\u5373\u53ef\n@\u53ef\u9009url\uff1a\u76ee\u6807url\uff0c\u4e0d\u4f1a\u68c0\u67e5url\u662f\u5426\u5b58\u5728\uff0c\u4e14\u4e0d\u80fd\u8de8\u57df\u3002\u5982\u4e0d\u4f20\u8be5\u9879,\u5373\u7ed9\u5f53\u524durl\u6dfb\u52a0data\n\nwindow.history.replaceState(state, title, targetURL);\n@\u7c7b\u4f3c\u4e8epushState,\u4f46\u662f\u4f1a\u76f4\u63a5\u66ff\u6362\u6389\u5f53\u524durl,\u800c\u4e0d\u4f1a\u5728history\u4e2d\u7559\u4e0b\u8bb0\u5f55\n\u590d\u5236\u4ee3\u7801\n")),(0,a.kt)("p",null,"popstate \u4e8b\u4ef6\u4f1a\u5728\u70b9\u51fb\u540e\u9000\u3001\u524d\u8fdb\u6309\u94ae(\u6216\u8c03\u7528 history.back()\u3001history.forward()\u3001history.go()\u65b9\u6cd5)\u65f6\u89e6\u53d1"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f:\u7528 history.pushState()\u6216\u8005 history.replaceState()\u4e0d\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6"))),(0,a.kt)("h2",{id:"\u53c2\u8003\u6587\u7ae0"},"\u53c2\u8003\u6587\u7ae0"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\u4f5c\u8005"),(0,a.kt)("th",{parentName:"tr",align:null},"\u94fe\u63a5"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Big shark@LX"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://juejin.cn/post/6961222829979697165"},"https://juejin.cn/post/6961222829979697165"))))))}c.isMDXComponent=!0}}]);